// Code generated by lark_sdk_gen. DO NOT EDIT.
/**
 * Copyright 2022 chyroc
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package lark

import (
	"context"
)

// EventV1LeaveApprovalV2 审批定义的表单包含 请假控件组 时, 该定义下的审批实例在 通过 或者 通过并撤销 时, 会触发该事件。
//
// ## 前提条件
// - 应用已配置事件订阅, 了解事件订阅可参见[事件订阅概述](https://open.feishu.cn/document/ukTMukTMukTM/uUTNz4SN1MjL1UzM)。
// - 应用已调用[订阅审批事件](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/approval-v4/approval/subscribe)接口, 订阅了审批实例对应的审批定义 Code。
// ## 使用说明
// 订阅该事件（事件类型为 leave_approval）后, 可在如下场景接收到事件:
// - 请假审批通过时, 会收到 2 条事件消息, 其事件类型（type）分别为 `leave_approval`、`leave_approvalV2`, 这 2 条事件包含的 `uuid` 参数值不同, `instance_code` 参数值相同。你可以根据需要选择任一事件消息获取请假审批通过的详细数据。
// - 请假审批通过并撤销时, 会收到 1 条事件消息, 事件类型（type）为 `leave_approval_revert`。
//
// doc: https://open.feishu.cn/document/ukTMukTMukTM/uIDO24iM4YjLygjN/event/leave
// new doc: https://open.feishu.cn/document/server-docs/approval-v4/event/special-event/leave
func (r *EventCallbackService) HandlerEventV1LeaveApprovalV2(f EventV1LeaveApprovalV2Handler) {
	r.cli.eventHandler.eventV1LeaveApprovalV2Handler = f
}

// EventV1LeaveApprovalV2Handler event EventV1LeaveApprovalV2 handler
type EventV1LeaveApprovalV2Handler func(ctx context.Context, cli *Lark, schema string, header *EventHeaderV1, event *EventV1LeaveApprovalV2) (string, error)

// EventV1LeaveApprovalV2 ...
type EventV1LeaveApprovalV2 struct {
	AppID        string `json:"app_id,omitempty"`        // 应用的 App ID。可调用[获取应用信息](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/application-v6/application/get)接口查询应用详细信息。
	InstanceCode string `json:"instance_code,omitempty"` // 审批实例 Code。可调用[获取单个审批实例详情](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/approval-v4/instance/get)接口查询审批实例详情。
	ApprovalCode string `json:"approval_code,omitempty"` // 审批定义 Code。可调用[查看指定审批定义](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/approval-v4/approval/get)接口查询审批定义详情。
	OperateTime  string `json:"operate_time,omitempty"`  // 撤销操作时间, 秒级时间戳。
	TenantKey    string `json:"tenant_key,omitempty"`    // 租户 Key, 是企业的唯一标识。
	Type         string `json:"type,omitempty"`          // 事件类型。固定值 `leave_approval_revert`
}

// EventV1LeaveApprovalV2Resp ...
type EventV1LeaveApprovalV2Resp struct {
}

// eventV1LeaveApprovalV2Resp ...
type eventV1LeaveApprovalV2Resp struct {
	Code  int64                       `json:"code,omitempty"`
	Msg   string                      `json:"msg,omitempty"`
	Data  *EventV1LeaveApprovalV2Resp `json:"data,omitempty"`
	Error *ErrorDetail                `json:"error,omitempty"`
}
