// Code generated by lark_sdk_gen. DO NOT EDIT.
/**
 * Copyright 2022 chyroc
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package lark

import (
	"context"
)

// ListDirectoryCollborationShareEntity 在创建规则时, 需要获取本组织以及对方组织人员、部门和用户组的ID, 且这些实体都应该在关联组织的共享范围内。本接口可获取关联组织双方的共享范围下的人员、部门和用户组。
//
// doc: https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/directory-v1/collboration_share_entity/list
func (r *DirectoryService) ListDirectoryCollborationShareEntity(ctx context.Context, request *ListDirectoryCollborationShareEntityReq, options ...MethodOptionFunc) (*ListDirectoryCollborationShareEntityResp, *Response, error) {
	if r.cli.mock.mockDirectoryListDirectoryCollborationShareEntity != nil {
		r.cli.Log(ctx, LogLevelDebug, "[lark] Directory#ListDirectoryCollborationShareEntity mock enable")
		return r.cli.mock.mockDirectoryListDirectoryCollborationShareEntity(ctx, request, options...)
	}

	req := &RawRequestReq{
		Scope:                 "Directory",
		API:                   "ListDirectoryCollborationShareEntity",
		Method:                "GET",
		URL:                   r.cli.openBaseURL + "/open-apis/directory/v1/share_entities",
		Body:                  request,
		MethodOption:          newMethodOption(options),
		NeedTenantAccessToken: true,
		NeedUserAccessToken:   true,
	}
	resp := new(listDirectoryCollborationShareEntityResp)

	response, err := r.cli.RawRequest(ctx, req, resp)
	return resp.Data, response, err
}

// MockDirectoryListDirectoryCollborationShareEntity mock DirectoryListDirectoryCollborationShareEntity method
func (r *Mock) MockDirectoryListDirectoryCollborationShareEntity(f func(ctx context.Context, request *ListDirectoryCollborationShareEntityReq, options ...MethodOptionFunc) (*ListDirectoryCollborationShareEntityResp, *Response, error)) {
	r.mockDirectoryListDirectoryCollborationShareEntity = f
}

// UnMockDirectoryListDirectoryCollborationShareEntity un-mock DirectoryListDirectoryCollborationShareEntity method
func (r *Mock) UnMockDirectoryListDirectoryCollborationShareEntity() {
	r.mockDirectoryListDirectoryCollborationShareEntity = nil
}

// ListDirectoryCollborationShareEntityReq ...
type ListDirectoryCollborationShareEntityReq struct {
	TargetTenantKey    string  `query:"target_tenant_key" json:"-"`    // 对方组织的tenant key, 可通过[管理员获取所有关联组织列表](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/directory-v1/collaboration_tenant/list)获取示例值: test_key
	TargetDepartmentID *string `query:"target_department_id" json:"-"` // 不填写该参数时, 查询整个组织的分享范围, 可填写该字段继续下钻查看指定部门下的子部门+成员。填写0分为两种情况, 若组织分享的为全员则展示一级部门, 否则展示分享的部门+成员；可以递归使用该接口实现整个分享范围的下钻查询示例值: test_key
	TargetGroupID      *string `query:"target_group_id" json:"-"`      // 获取用户组下的成员, 填写该值后忽略target_department_id；可以通过本接口参数返回的用户组ID继续本接口查询示例值: test_key
	IsSelectSubject    *bool   `query:"is_select_subject" json:"-"`    // 是否主体组织分享范围, 默认是客体组织的分享范围示例值: true
	PageToken          *string `query:"page_token" json:"-"`           // 分页标记, 第一次请求不填, 表示从头开始遍历；分页查询结果还有更多项时会同时返回新的 page_token, 下次遍历可采用该 page_token 获取查询结果示例值: eVQrYzJBNDNONlk4VFZBZVlSdzlKdFJ4bVVHVExENDNKVHoxaVdiVnViQT0=
	PageSize           *int64  `query:"page_size" json:"-"`            // 分页大小示例值: 10默认值: `100` 取值范围: `0` ～ `100`
}

// ListDirectoryCollborationShareEntityResp ...
type ListDirectoryCollborationShareEntityResp struct {
	PageToken        string                                                `json:"page_token,omitempty"`        // 分页标记, 当 has_more 为 true 时, 会同时返回新的 page_token, 否则不返回 page_token
	HasMore          bool                                                  `json:"has_more,omitempty"`          // 是否还有更多项
	ShareDepartments []string                                              `json:"share_departments,omitempty"` // 分享的部门信息
	ShareGroups      []*ListDirectoryCollborationShareEntityRespShareGroup `json:"share_groups,omitempty"`      // 分享的用户组信息
	ShareUsers       []*ListDirectoryCollborationShareEntityRespShareUser  `json:"share_users,omitempty"`       // 分享的用户信息
}

// ListDirectoryCollborationShareEntityRespShareGroup ...
type ListDirectoryCollborationShareEntityRespShareGroup struct {
	OpenGroupID string                                                  `json:"open_group_id,omitempty"` // 用户组的open_id
	Name        *ListDirectoryCollborationShareEntityRespShareGroupName `json:"name,omitempty"`          // i18n文本
}

// ListDirectoryCollborationShareEntityRespShareGroupName ...
type ListDirectoryCollborationShareEntityRespShareGroupName struct {
	DefaultValue string      `json:"default_value,omitempty"` // 默认值
	I18nValue    interface{} `json:"i18n_value,omitempty"`    // 国际化值, key为zh_cn, ja_jp, en_us, value为对应的值
}

// ListDirectoryCollborationShareEntityRespShareUser ...
type ListDirectoryCollborationShareEntityRespShareUser struct {
	OpenUserID string                                                   `json:"open_user_id,omitempty"` // user open ID
	Name       *ListDirectoryCollborationShareEntityRespShareUserName   `json:"name,omitempty"`         // i18n文本
	Avatar     *ListDirectoryCollborationShareEntityRespShareUserAvatar `json:"avatar,omitempty"`       // 用户的头像
}

// ListDirectoryCollborationShareEntityRespShareUserAvatar ...
type ListDirectoryCollborationShareEntityRespShareUserAvatar struct {
	Avatar72     string `json:"avatar_72,omitempty"`     // 72*72像素头像链接
	Avatar240    string `json:"avatar_240,omitempty"`    // 240*240像素头像链接
	Avatar640    string `json:"avatar_640,omitempty"`    // 640*640像素头像链接
	AvatarOrigin string `json:"avatar_origin,omitempty"` // 原始头像链接
}

// ListDirectoryCollborationShareEntityRespShareUserName ...
type ListDirectoryCollborationShareEntityRespShareUserName struct {
	DefaultValue string      `json:"default_value,omitempty"` // 默认值
	I18nValue    interface{} `json:"i18n_value,omitempty"`    // 国际化值, key为zh_cn, ja_jp, en_us, value为对应的值
}

// listDirectoryCollborationShareEntityResp ...
type listDirectoryCollborationShareEntityResp struct {
	Code  int64                                     `json:"code,omitempty"` // 错误码, 非 0 表示失败
	Msg   string                                    `json:"msg,omitempty"`  // 错误描述
	Data  *ListDirectoryCollborationShareEntityResp `json:"data,omitempty"`
	Error *ErrorDetail                              `json:"error,omitempty"`
}
