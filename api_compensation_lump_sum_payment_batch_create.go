// Code generated by lark_sdk_gen. DO NOT EDIT.
/**
 * Copyright 2022 chyroc
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package lark

import (
	"context"
)

// BatchCreateCompensationLumpSumPayment 通过传入的一次性支付记录数据, 校验并创建一次性支付记录, 并返回创建失败原因或创建成功数据的ID
//
// 本接口支持部分成功, 失败部分详细报错信息参考 `data.operate_results.code`。
// - 当 `data.operate_results.code` 存在非 0 时, 响应体 code 仍可能返回 0
// - 仅当出现非预期异常时, 响应体 code 才会为非 0
//
// doc: https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/compensation-v1/lump_sum_payment/batch_create
func (r *CompensationService) BatchCreateCompensationLumpSumPayment(ctx context.Context, request *BatchCreateCompensationLumpSumPaymentReq, options ...MethodOptionFunc) (*BatchCreateCompensationLumpSumPaymentResp, *Response, error) {
	if r.cli.mock.mockCompensationBatchCreateCompensationLumpSumPayment != nil {
		r.cli.Log(ctx, LogLevelDebug, "[lark] Compensation#BatchCreateCompensationLumpSumPayment mock enable")
		return r.cli.mock.mockCompensationBatchCreateCompensationLumpSumPayment(ctx, request, options...)
	}

	req := &RawRequestReq{
		Scope:                 "Compensation",
		API:                   "BatchCreateCompensationLumpSumPayment",
		Method:                "POST",
		URL:                   r.cli.openBaseURL + "/open-apis/compensation/v1/lump_sum_payment/batch_create",
		Body:                  request,
		MethodOption:          newMethodOption(options),
		NeedTenantAccessToken: true,
	}
	resp := new(batchCreateCompensationLumpSumPaymentResp)

	response, err := r.cli.RawRequest(ctx, req, resp)
	return resp.Data, response, err
}

// MockCompensationBatchCreateCompensationLumpSumPayment mock CompensationBatchCreateCompensationLumpSumPayment method
func (r *Mock) MockCompensationBatchCreateCompensationLumpSumPayment(f func(ctx context.Context, request *BatchCreateCompensationLumpSumPaymentReq, options ...MethodOptionFunc) (*BatchCreateCompensationLumpSumPaymentResp, *Response, error)) {
	r.mockCompensationBatchCreateCompensationLumpSumPayment = f
}

// UnMockCompensationBatchCreateCompensationLumpSumPayment un-mock CompensationBatchCreateCompensationLumpSumPayment method
func (r *Mock) UnMockCompensationBatchCreateCompensationLumpSumPayment() {
	r.mockCompensationBatchCreateCompensationLumpSumPayment = nil
}

// BatchCreateCompensationLumpSumPaymentReq ...
type BatchCreateCompensationLumpSumPaymentReq struct {
	UserIDType IDType                                            `query:"user_id_type" json:"-"` // 用户 ID 类型示例值: open_id可选值有: 标识一个用户在某个应用中的身份。同一个用户在不同应用中的 Open ID 不同。[了解更多: 如何获取 Open ID](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-obtain-openid)标识一个用户在某个应用开发商下的身份。同一用户在同一开发商下的应用中的 Union ID 是相同的, 在不同开发商下的应用中的 Union ID 是不同的。通过 Union ID, 应用开发商可以把同个用户在多个应用中的身份关联起来。[了解更多: 如何获取 Union ID？](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-obtain-union-id)标识一个用户在某个租户内的身份。同一个用户在租户 A 和租户 B 内的 User ID 是不同的。在同一个租户内, 一个用户的 User ID 在所有应用（包括商店应用）中都保持一致。User ID 主要用于在不同的应用间打通用户数据。[了解更多: 如何获取 User ID？](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-obtain-user-id)以people_corehr_id来识别用户默认值: `open_id`当值为 `user_id`, 字段权限要求: 获取用户 user ID
	Records    []*BatchCreateCompensationLumpSumPaymentReqRecord `json:"records,omitempty"`      // 要创建的一次性支付信息 长度范围: `0` ～ `500`
}

// BatchCreateCompensationLumpSumPaymentReqRecord ...
type BatchCreateCompensationLumpSumPaymentReqRecord struct {
	UniqueID                 string                                                  `json:"unique_id,omitempty"`                   // 外部幂等id, 由上游业务决定示例值: "7402510801304718380_7309316347007764012_7402523725868058156_1726070400000_10000" 长度范围: `0` ～ `255` 字符
	UserID                   string                                                  `json:"user_id,omitempty"`                     // 员工id, 具体类型由入参中的 user_id_type 指定示例值: "7337149697626801708" 长度范围: `0` ～ `255` 字符
	TotalAmount              int64                                                   `json:"total_amount,omitempty"`                // 总金额, 字符串表达的数字, 单位为入参中 currency_id 给定的币种示例值: "2000.00" 长度范围: `0` ～ `255` 字符
	BindingPeriod            int64                                                   `json:"binding_period,omitempty"`              // 绑定期, 单位为月示例值: 2 取值范围: `0` ～ `2147483647`
	CurrencyID               string                                                  `json:"currency_id,omitempty"`                 // 币种 id（通过[【查询币种】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/basic_info-currency/search)) 接口进行查询）示例值: "6863329932261459464" 长度范围: `0` ～ `255` 字符
	IssuanceFrequency        int64                                                   `json:"issuance_frequency,omitempty"`          // 发放次数, 必须与 details 的长度一致示例值: 3 取值范围: `0` ～ `2147483647`
	ItemID                   string                                                  `json:"item_id,omitempty"`                     // 薪酬项 id（通过[【查询薪酬项】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/compensation-v1/item/list)) 接口进行查询）示例值: "7411039006180312620" 长度范围: `0` ～ `255` 字符
	ReferencePeriodStartDate *string                                                 `json:"reference_period_start_date,omitempty"` // 所属期开始日期示例值: "2024-08-01" 长度范围: `0` ～ `255` 字符
	ReferencePeriodEndDate   *string                                                 `json:"reference_period_end_date,omitempty"`   // 所属期结束日期示例值: "2024-08-01" 长度范围: `0` ～ `255` 字符
	Details                  []*BatchCreateCompensationLumpSumPaymentReqRecordDetail `json:"details,omitempty"`                     // 发放明细列表 长度范围: `0` ～ `2147483647`
	Remark                   *string                                                 `json:"remark,omitempty"`                      // 备注示例值: "该员工表现优异, 为其发放一笔奖金" 长度范围: `0` ～ `3000` 字符
}

// BatchCreateCompensationLumpSumPaymentReqRecordDetail ...
type BatchCreateCompensationLumpSumPaymentReqRecordDetail struct {
	IssuanceAmount          string  `json:"issuance_amount,omitempty"`            // 一次性支付明细发放金额, 可转数字的字符串, 单位为入参中 currency_id 给定的币种示例值: "2000.00" 长度范围: `0` ～ `255` 字符
	IssuanceStatus          string  `json:"issuance_status,omitempty"`            // 发放状态示例值: "to_be_issued"可选值有: 应发放不发放 长度范围: `0` ～ `255` 字符
	IssuanceWay             string  `json:"issuance_way,omitempty"`               // 发放方式示例值: "with_salary"可选值有: 随工资发放现金发放随年终奖发放
	IssuanceTime            string  `json:"issuance_time,omitempty"`              // 发放时间示例值: "2024-08-01" 长度范围: `0` ～ `255` 字符
	BelongTime              string  `json:"belong_time,omitempty"`                // 申请发放日期示例值: "2025-01-20" 长度范围: `0` ～ `255` 字符
	IssuanceCountryRegionID *string `json:"issuance_country_region_id,omitempty"` // 发放国家ID（可通过[查询国家/地区信息](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/basic_info-country_region/search)进行查询）示例值: "6862995757234914824" 长度范围: `0` ～ `255` 字符
	IssuancePayGroupID      *string `json:"issuance_pay_group_id,omitempty"`      // 发放薪资组ID（可通过[获取薪资组基本信息](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/payroll-v1/paygroup/list)进行查询）示例值: "6862995757234914824" 长度范围: `0` ～ `255` 字符
}

// BatchCreateCompensationLumpSumPaymentResp ...
type BatchCreateCompensationLumpSumPaymentResp struct {
	OperateResults []*BatchCreateCompensationLumpSumPaymentRespOperateResult `json:"operate_results,omitempty"` // 每条记录的操作结果。对于创建成功的记录, 会返回创建后的一次性支付记录id
}

// BatchCreateCompensationLumpSumPaymentRespOperateResult ...
type BatchCreateCompensationLumpSumPaymentRespOperateResult struct {
	ID       string `json:"id,omitempty"`        // 操作的记录的 id
	UniqueID string `json:"unique_id,omitempty"` // 操作的记录的 unique_id
	Code     int64  `json:"code,omitempty"`      // 操作结果状态码可选值有: "Success" 操作成功"The bonus to be changed does not exist" 要更改的奖金不存在"Idempotent ID conflict" 幂等id冲突"The total amount format is incorrect" 总金额格式不正确"Only use the number of decimal places specified in the bonus item rules" 仅限使用奖金项规则中规定的小数位数"The sum of the bonus details does not equal the total amount" 奖金明细金额之和不等于总金额"issuance frequency not equal to size of details" 奖金明细总数不等于发放次数"The number of issuances is less than or equal to 0" 发放次数小于等于0"The currency is empty or does not exist" 币种为空或不存在"Notes are too long" 备注超长"The bonus details amount format is incorrect" 奖金明细金额格式不正确"The bonus details payment time format is incorrect" 奖金明细的发放时间格式不正确"The bonus details are issued in an illegal manner" 奖金明细的发放方式不合法"The bonus details are not in a valid payment status" 奖金明细的发放状态不合法"Employees are not covered by the bonus rules" 员工不在奖金项规则适用范围之内"The method of awarding bonus details is not covered by the bonus item rules" 奖金明细的发放方式不在奖金项规则适用范围之内"Bonus item rules do not support configuration of binding period" 奖金项规则不支持配置绑定期"The bonus details payment status is "paid", and cannot be modified" 奖金明细发放状态为「已发放」, 不支持修改"The bonus item rules already include the currency, and other currencies cannot be specified" 奖金项规则已包含币种, 不支持指定其他币种"The salary item does not exist" 薪酬项不存在"Employee does not exist" 员工不存在"The bonus details payment status is "paid", and deletion is not supported" 奖金明细发放状态为「已发放」, 不支持删除"Bonus rules do not allow multiple awards" 奖金项规则不允许多次发放"No data permission" 无数据权限"Only positive integers are allowed for the binding period" 绑定期只允许正整数"This bonus does not currently support custom binding periods. Please configure and write according to the rules for the binding period of the salary item" 该奖金暂不支持自定义绑定期, 请按照薪酬项绑定期规则配置写入"The application issuance date must not be later than the issuance date" 申请发放日期不得晚于发放日期"The application payment date format of the bonus details is incorrect" 奖金明细的申请发放日期格式不正确
	Message  string `json:"message,omitempty"`   // 操作结果描述
}

// batchCreateCompensationLumpSumPaymentResp ...
type batchCreateCompensationLumpSumPaymentResp struct {
	Code  int64                                      `json:"code,omitempty"` // 错误码, 非 0 表示失败
	Msg   string                                     `json:"msg,omitempty"`  // 错误描述
	Data  *BatchCreateCompensationLumpSumPaymentResp `json:"data,omitempty"`
	Error *ErrorDetail                               `json:"error,omitempty"`
}
