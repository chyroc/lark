// Code generated by lark_sdk_gen. DO NOT EDIT.
/**
 * Copyright 2022 chyroc
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package lark

import (
	"context"
)

// AddCorehrAuthorizationRoleAssign 为用户授权角色及管理范围
//
// 对已被授权某个角色的用户继续授权, 将在原授权的数据范围基础上追加数据范围。
// 暂时仅支持授权「按组织架构管理」的角色
//
// doc: https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/authorization/add_role_assign
func (r *CorehrService) AddCorehrAuthorizationRoleAssign(ctx context.Context, request *AddCorehrAuthorizationRoleAssignReq, options ...MethodOptionFunc) (*AddCorehrAuthorizationRoleAssignResp, *Response, error) {
	if r.cli.mock.mockCorehrAddCorehrAuthorizationRoleAssign != nil {
		r.cli.Log(ctx, LogLevelDebug, "[lark] Corehr#AddCorehrAuthorizationRoleAssign mock enable")
		return r.cli.mock.mockCorehrAddCorehrAuthorizationRoleAssign(ctx, request, options...)
	}

	req := &RawRequestReq{
		Scope:                 "Corehr",
		API:                   "AddCorehrAuthorizationRoleAssign",
		Method:                "POST",
		URL:                   r.cli.openBaseURL + "/open-apis/corehr/v1/authorizations/add_role_assign",
		Body:                  request,
		MethodOption:          newMethodOption(options),
		NeedTenantAccessToken: true,
	}
	resp := new(addCorehrAuthorizationRoleAssignResp)

	response, err := r.cli.RawRequest(ctx, req, resp)
	return resp.Data, response, err
}

// MockCorehrAddCorehrAuthorizationRoleAssign mock CorehrAddCorehrAuthorizationRoleAssign method
func (r *Mock) MockCorehrAddCorehrAuthorizationRoleAssign(f func(ctx context.Context, request *AddCorehrAuthorizationRoleAssignReq, options ...MethodOptionFunc) (*AddCorehrAuthorizationRoleAssignResp, *Response, error)) {
	r.mockCorehrAddCorehrAuthorizationRoleAssign = f
}

// UnMockCorehrAddCorehrAuthorizationRoleAssign un-mock CorehrAddCorehrAuthorizationRoleAssign method
func (r *Mock) UnMockCorehrAddCorehrAuthorizationRoleAssign() {
	r.mockCorehrAddCorehrAuthorizationRoleAssign = nil
}

// AddCorehrAuthorizationRoleAssignReq ...
type AddCorehrAuthorizationRoleAssignReq struct {
	EmploymentID              string          `query:"employment_id" json:"-"`               // 被授权用户的 ID, ID类型与user_id_type的取值意义一致。默认为飞书人事中的 [employment_id]。  > 如果你需要不同类型的ID进行转换, 可以使用 [ID转换服务](https://open.larkoffice.com/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/common_data-id/convert) 换取 [employment_id]示例值: 7303877149017292801
	UserIDType                *IDType         `query:"user_id_type" json:"-"`                // 用户 ID 类型示例值: people_corehr_id可选值有: 标识一个用户在某个应用中的身份。同一个用户在不同应用中的 Open ID 不同。[了解更多: 如何获取 Open ID](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-obtain-openid)标识一个用户在某个应用开发商下的身份。同一用户在同一开发商下的应用中的 Union ID 是相同的, 在不同开发商下的应用中的 Union ID 是不同的。通过 Union ID, 应用开发商可以把同个用户在多个应用中的身份关联起来。[了解更多: 如何获取 Union ID？](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-obtain-union-id)标识一个用户在某个租户内的身份。同一个用户在租户 A 和租户 B 内的 User ID 是不同的。在同一个租户内, 一个用户的 User ID 在所有应用（包括商店应用）中都保持一致。User ID 主要用于在不同的应用间打通用户数据。[了解更多: 如何获取 User ID？](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-obtain-user-id)以飞书人事的 ID 来识别用户默认值: `people_corehr_id`当值为 `user_id`, 字段权限要求: 获取用户 user ID
	RoleID                    string          `query:"role_id" json:"-"`                     // 被授权角色的 ID, 一次仅可授权一个角色。你可以使用 [批量获取角色列表](https://open.larkoffice.com/document/server-docs/corehr-v1/authorization/list) 获取, 或者在角色详情中获取（URL 末的数字）示例值: 7358732070333613619
	AssignedOrganizationItems [][]interface{} `json:"assigned_organization_items,omitempty"` // 被授权角色的授权范围。你需要按照请求体示例构造结构体。  它是一个二维数组, 你可以使用它来授权具有多个管理维度的角色, 例如属地 HRBP。  - [org_key]: 管理维度。可选项有    - 部门: [department]    - 工作地点: [work_location]    - 公司: [company]    - 成本中心: [organization_id_strand]    - 社保城市: [social_security_location]    - 入职地点: [onboarding_location]    - 薪资组: [pay_group]    - 人才池: [talent_pool]    - 自定义组织: 可在「[飞书人事](https://people.feishu.cn/people/)-设置-组织设置」中相应的自定义组织目录下查看对应的组织类型编码, 例如[custom_org_01]、[custom_org_02]、[custom_org_03]、[custom_org_04]、[custom_org_05]- [org_ids]: 组织 ID。组织 ID 和组织编码只需要填写一个- [org_codes]: 组织编码。组织 ID 和组织编码只需要填写一个示例值: 67489937334909845 长度范围: `0` ～ `300`
}

// AddCorehrAuthorizationRoleAssignResp ...
type AddCorehrAuthorizationRoleAssignResp struct {
	AssignID string `json:"assign_id,omitempty"` // 授权id
}

// addCorehrAuthorizationRoleAssignResp ...
type addCorehrAuthorizationRoleAssignResp struct {
	Code  int64                                 `json:"code,omitempty"` // 错误码, 非 0 表示失败
	Msg   string                                `json:"msg,omitempty"`  // 错误描述
	Data  *AddCorehrAuthorizationRoleAssignResp `json:"data,omitempty"`
	Error *ErrorDetail                          `json:"error,omitempty"`
}
