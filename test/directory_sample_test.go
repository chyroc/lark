// Code generated by lark_sdk_gen. DO NOT EDIT.
/**
 * Copyright 2022 chyroc
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package test

import (
	"context"
	"fmt"
	"testing"

	"github.com/stretchr/testify/assert"

	"github.com/chyroc/lark"
)

func Test_Directory_Sample_Failed(t *testing.T) {
	as := assert.New(t)

	t.Run("request failed", func(t *testing.T) {
		cli := AppAllPermission.Ins()
		cli.Mock().MockGetTenantAccessToken(mockGetTenantAccessTokenFailed)
		cli.Mock().MockGetAppAccessToken(mockGetTenantAccessTokenFailed)
		moduleCli := cli.Directory

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.CreateDirectoryCollaborationRule(ctx, &lark.CreateDirectoryCollaborationRuleReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "failed")
		})

	})

	t.Run("request mock failed", func(t *testing.T) {
		cli := AppAllPermission.Ins()
		moduleCli := cli.Directory

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectoryCreateDirectoryCollaborationRule(func(ctx context.Context, request *lark.CreateDirectoryCollaborationRuleReq, options ...lark.MethodOptionFunc) (*lark.CreateDirectoryCollaborationRuleResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectoryCreateDirectoryCollaborationRule()

			_, _, err := moduleCli.CreateDirectoryCollaborationRule(ctx, &lark.CreateDirectoryCollaborationRuleReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectoryDeleteDirectoryCollaborationRule(func(ctx context.Context, request *lark.DeleteDirectoryCollaborationRuleReq, options ...lark.MethodOptionFunc) (*lark.DeleteDirectoryCollaborationRuleResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectoryDeleteDirectoryCollaborationRule()

			_, _, err := moduleCli.DeleteDirectoryCollaborationRule(ctx, &lark.DeleteDirectoryCollaborationRuleReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectoryListDirectoryCollaborationRule(func(ctx context.Context, request *lark.ListDirectoryCollaborationRuleReq, options ...lark.MethodOptionFunc) (*lark.ListDirectoryCollaborationRuleResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectoryListDirectoryCollaborationRule()

			_, _, err := moduleCli.ListDirectoryCollaborationRule(ctx, &lark.ListDirectoryCollaborationRuleReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectoryUpdateDirectoryCollaborationRule(func(ctx context.Context, request *lark.UpdateDirectoryCollaborationRuleReq, options ...lark.MethodOptionFunc) (*lark.UpdateDirectoryCollaborationRuleResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectoryUpdateDirectoryCollaborationRule()

			_, _, err := moduleCli.UpdateDirectoryCollaborationRule(ctx, &lark.UpdateDirectoryCollaborationRuleReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectoryListDirectoryCollaborationTenant(func(ctx context.Context, request *lark.ListDirectoryCollaborationTenantReq, options ...lark.MethodOptionFunc) (*lark.ListDirectoryCollaborationTenantResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectoryListDirectoryCollaborationTenant()

			_, _, err := moduleCli.ListDirectoryCollaborationTenant(ctx, &lark.ListDirectoryCollaborationTenantReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectoryListDirectoryCollborationShareEntity(func(ctx context.Context, request *lark.ListDirectoryCollborationShareEntityReq, options ...lark.MethodOptionFunc) (*lark.ListDirectoryCollborationShareEntityResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectoryListDirectoryCollborationShareEntity()

			_, _, err := moduleCli.ListDirectoryCollborationShareEntity(ctx, &lark.ListDirectoryCollborationShareEntityReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectoryCreateDirectoryDepartment(func(ctx context.Context, request *lark.CreateDirectoryDepartmentReq, options ...lark.MethodOptionFunc) (*lark.CreateDirectoryDepartmentResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectoryCreateDirectoryDepartment()

			_, _, err := moduleCli.CreateDirectoryDepartment(ctx, &lark.CreateDirectoryDepartmentReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectoryDeleteDirectoryDepartment(func(ctx context.Context, request *lark.DeleteDirectoryDepartmentReq, options ...lark.MethodOptionFunc) (*lark.DeleteDirectoryDepartmentResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectoryDeleteDirectoryDepartment()

			_, _, err := moduleCli.DeleteDirectoryDepartment(ctx, &lark.DeleteDirectoryDepartmentReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectoryCreateDirectoryDepartmentFilter(func(ctx context.Context, request *lark.CreateDirectoryDepartmentFilterReq, options ...lark.MethodOptionFunc) (*lark.CreateDirectoryDepartmentFilterResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectoryCreateDirectoryDepartmentFilter()

			_, _, err := moduleCli.CreateDirectoryDepartmentFilter(ctx, &lark.CreateDirectoryDepartmentFilterReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectoryMGetDirectoryDepartment(func(ctx context.Context, request *lark.MGetDirectoryDepartmentReq, options ...lark.MethodOptionFunc) (*lark.MGetDirectoryDepartmentResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectoryMGetDirectoryDepartment()

			_, _, err := moduleCli.MGetDirectoryDepartment(ctx, &lark.MGetDirectoryDepartmentReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectoryUpdateDirectoryDepartment(func(ctx context.Context, request *lark.UpdateDirectoryDepartmentReq, options ...lark.MethodOptionFunc) (*lark.UpdateDirectoryDepartmentResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectoryUpdateDirectoryDepartment()

			_, _, err := moduleCli.UpdateDirectoryDepartment(ctx, &lark.UpdateDirectoryDepartmentReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectorySearchDirectoryDepartment(func(ctx context.Context, request *lark.SearchDirectoryDepartmentReq, options ...lark.MethodOptionFunc) (*lark.SearchDirectoryDepartmentResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectorySearchDirectoryDepartment()

			_, _, err := moduleCli.SearchDirectoryDepartment(ctx, &lark.SearchDirectoryDepartmentReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectoryCreateDirectoryEmployee(func(ctx context.Context, request *lark.CreateDirectoryEmployeeReq, options ...lark.MethodOptionFunc) (*lark.CreateDirectoryEmployeeResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectoryCreateDirectoryEmployee()

			_, _, err := moduleCli.CreateDirectoryEmployee(ctx, &lark.CreateDirectoryEmployeeReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectoryDeleteDirectoryEmployee(func(ctx context.Context, request *lark.DeleteDirectoryEmployeeReq, options ...lark.MethodOptionFunc) (*lark.DeleteDirectoryEmployeeResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectoryDeleteDirectoryEmployee()

			_, _, err := moduleCli.DeleteDirectoryEmployee(ctx, &lark.DeleteDirectoryEmployeeReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectoryCreateDirectoryEmployeeFilter(func(ctx context.Context, request *lark.CreateDirectoryEmployeeFilterReq, options ...lark.MethodOptionFunc) (*lark.CreateDirectoryEmployeeFilterResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectoryCreateDirectoryEmployeeFilter()

			_, _, err := moduleCli.CreateDirectoryEmployeeFilter(ctx, &lark.CreateDirectoryEmployeeFilterReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectoryMGetDirectoryEmployee(func(ctx context.Context, request *lark.MGetDirectoryEmployeeReq, options ...lark.MethodOptionFunc) (*lark.MGetDirectoryEmployeeResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectoryMGetDirectoryEmployee()

			_, _, err := moduleCli.MGetDirectoryEmployee(ctx, &lark.MGetDirectoryEmployeeReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectoryUpdateDirectoryEmployee(func(ctx context.Context, request *lark.UpdateDirectoryEmployeeReq, options ...lark.MethodOptionFunc) (*lark.UpdateDirectoryEmployeeResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectoryUpdateDirectoryEmployee()

			_, _, err := moduleCli.UpdateDirectoryEmployee(ctx, &lark.UpdateDirectoryEmployeeReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectoryUpdateDirectoryEmployeeRegular(func(ctx context.Context, request *lark.UpdateDirectoryEmployeeRegularReq, options ...lark.MethodOptionFunc) (*lark.UpdateDirectoryEmployeeRegularResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectoryUpdateDirectoryEmployeeRegular()

			_, _, err := moduleCli.UpdateDirectoryEmployeeRegular(ctx, &lark.UpdateDirectoryEmployeeRegularReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectoryCreateDirectoryEmployeeResurrect(func(ctx context.Context, request *lark.CreateDirectoryEmployeeResurrectReq, options ...lark.MethodOptionFunc) (*lark.CreateDirectoryEmployeeResurrectResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectoryCreateDirectoryEmployeeResurrect()

			_, _, err := moduleCli.CreateDirectoryEmployeeResurrect(ctx, &lark.CreateDirectoryEmployeeResurrectReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectorySearchDirectoryEmployee(func(ctx context.Context, request *lark.SearchDirectoryEmployeeReq, options ...lark.MethodOptionFunc) (*lark.SearchDirectoryEmployeeResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectorySearchDirectoryEmployee()

			_, _, err := moduleCli.SearchDirectoryEmployee(ctx, &lark.SearchDirectoryEmployeeReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

		t.Run("", func(t *testing.T) {

			cli.Mock().MockDirectoryUpdateDirectoryEmployeeToBeResigned(func(ctx context.Context, request *lark.UpdateDirectoryEmployeeToBeResignedReq, options ...lark.MethodOptionFunc) (*lark.UpdateDirectoryEmployeeToBeResignedResp, *lark.Response, error) {
				return nil, nil, fmt.Errorf("mock-failed")
			})
			defer cli.Mock().UnMockDirectoryUpdateDirectoryEmployeeToBeResigned()

			_, _, err := moduleCli.UpdateDirectoryEmployeeToBeResigned(ctx, &lark.UpdateDirectoryEmployeeToBeResignedReq{})
			as.NotNil(err)
			as.Equal(err.Error(), "mock-failed")
		})

	})

	t.Run("response is failed (mock http)", func(t *testing.T) {
		cli := AppAllPermission.Ins()
		moduleCli := cli.Directory
		cli.Mock().MockRawRequest(func(ctx context.Context, req *lark.RawRequestReq, resp interface{}) (response *lark.Response, err error) {
			return nil, fmt.Errorf("mock-http-failed")
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.CreateDirectoryCollaborationRule(ctx, &lark.CreateDirectoryCollaborationRuleReq{})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.DeleteDirectoryCollaborationRule(ctx, &lark.DeleteDirectoryCollaborationRuleReq{
				CollaborationRuleID: "x",
			})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.ListDirectoryCollaborationRule(ctx, &lark.ListDirectoryCollaborationRuleReq{})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.UpdateDirectoryCollaborationRule(ctx, &lark.UpdateDirectoryCollaborationRuleReq{
				CollaborationRuleID: "x",
			})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.ListDirectoryCollaborationTenant(ctx, &lark.ListDirectoryCollaborationTenantReq{})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.ListDirectoryCollborationShareEntity(ctx, &lark.ListDirectoryCollborationShareEntityReq{})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.CreateDirectoryDepartment(ctx, &lark.CreateDirectoryDepartmentReq{})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.DeleteDirectoryDepartment(ctx, &lark.DeleteDirectoryDepartmentReq{
				DepartmentID: "x",
			})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.CreateDirectoryDepartmentFilter(ctx, &lark.CreateDirectoryDepartmentFilterReq{})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.MGetDirectoryDepartment(ctx, &lark.MGetDirectoryDepartmentReq{})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.UpdateDirectoryDepartment(ctx, &lark.UpdateDirectoryDepartmentReq{
				DepartmentID: "x",
			})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.SearchDirectoryDepartment(ctx, &lark.SearchDirectoryDepartmentReq{})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.CreateDirectoryEmployee(ctx, &lark.CreateDirectoryEmployeeReq{})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.DeleteDirectoryEmployee(ctx, &lark.DeleteDirectoryEmployeeReq{
				EmployeeID: "x",
			})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.CreateDirectoryEmployeeFilter(ctx, &lark.CreateDirectoryEmployeeFilterReq{})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.MGetDirectoryEmployee(ctx, &lark.MGetDirectoryEmployeeReq{})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.UpdateDirectoryEmployee(ctx, &lark.UpdateDirectoryEmployeeReq{
				EmployeeID: "x",
			})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.UpdateDirectoryEmployeeRegular(ctx, &lark.UpdateDirectoryEmployeeRegularReq{
				EmployeeID: "x",
			})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.CreateDirectoryEmployeeResurrect(ctx, &lark.CreateDirectoryEmployeeResurrectReq{
				EmployeeID: "x",
			})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.SearchDirectoryEmployee(ctx, &lark.SearchDirectoryEmployeeReq{})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

		t.Run("", func(t *testing.T) {

			_, _, err := moduleCli.UpdateDirectoryEmployeeToBeResigned(ctx, &lark.UpdateDirectoryEmployeeToBeResignedReq{
				EmployeeID: "x",
			})
			as.NotNil(err)
			as.Equal("mock-http-failed", err.Error())
		})

	})
}
