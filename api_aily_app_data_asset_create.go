// Code generated by lark_sdk_gen. DO NOT EDIT.
/**
 * Copyright 2022 chyroc
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package lark

import (
	"context"
)

// CreateAilyAppDataAsset 在 Aily 中添加单个数据知识
//
// - 仅支持开发环境
// - 开发者需要 Aily 平台的应用协作者角色, 包括管理员、开发者、运维人员
// - 使用应用身份仅支持[ Aily 平台](https://aily.feishu.cn)渠道的应用身份
//
// doc: https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/aily-v1/app-data_asset/create
// new doc: https://open.feishu.cn/document/aily-v1/data-knowledge/data-knowledge-management/create
func (r *AilyService) CreateAilyAppDataAsset(ctx context.Context, request *CreateAilyAppDataAssetReq, options ...MethodOptionFunc) (*CreateAilyAppDataAssetResp, *Response, error) {
	if r.cli.mock.mockAilyCreateAilyAppDataAsset != nil {
		r.cli.Log(ctx, LogLevelDebug, "[lark] Aily#CreateAilyAppDataAsset mock enable")
		return r.cli.mock.mockAilyCreateAilyAppDataAsset(ctx, request, options...)
	}

	req := &RawRequestReq{
		Scope:                 "Aily",
		API:                   "CreateAilyAppDataAsset",
		Method:                "POST",
		URL:                   r.cli.openBaseURL + "/open-apis/aily/v1/apps/:app_id/data_assets",
		Body:                  request,
		MethodOption:          newMethodOption(options),
		NeedTenantAccessToken: true,
		NeedUserAccessToken:   true,
	}
	resp := new(createAilyAppDataAssetResp)

	response, err := r.cli.RawRequest(ctx, req, resp)
	return resp.Data, response, err
}

// MockAilyCreateAilyAppDataAsset mock AilyCreateAilyAppDataAsset method
func (r *Mock) MockAilyCreateAilyAppDataAsset(f func(ctx context.Context, request *CreateAilyAppDataAssetReq, options ...MethodOptionFunc) (*CreateAilyAppDataAssetResp, *Response, error)) {
	r.mockAilyCreateAilyAppDataAsset = f
}

// UnMockAilyCreateAilyAppDataAsset un-mock AilyCreateAilyAppDataAsset method
func (r *Mock) UnMockAilyCreateAilyAppDataAsset() {
	r.mockAilyCreateAilyAppDataAsset = nil
}

// CreateAilyAppDataAssetReq ...
type CreateAilyAppDataAssetReq struct {
	AppID                  string                                           `path:"app_id" json:"-"`                    // Aily 平台的应用的APPID, 可以直接从 Aily 应用的URL中获取。获取示例: /ai/{APPID}示例值: "spring_dfasdf__c" 长度范围: `0` ～ `255` 字符
	TenantType             *string                                          `query:"tenant_type" json:"-"`              // 应用环境, 枚举值: `online`: 线上环境（默认值）- `dev`: 开发环境；目前只支持 `dev`示例值: dev 长度范围: `0` ～ `255` 字符
	ConnectType            string                                           `json:"connect_type,omitempty"`             // 连接类型示例值: "direct"可选值有: 导入模式直连模式 长度范围: `0` ～ `255` 字符
	SourceType             string                                           `json:"source_type,omitempty"`              // 数据源类型示例值: "file"可选值有: 文件, 只支持导入模式飞书知识空间, 只支持直连模式飞书云文档, 导入模式只支持docx飞书服务台, 只支持直连模式 长度范围: `0` ～ `255` 字符
	ImportKnowledgeSetting *CreateAilyAppDataAssetReqImportKnowledgeSetting `json:"import_knowledge_setting,omitempty"` // 知识导入配置
	Description            interface{}                                      `json:"description,omitempty"`              // 数据知识描述信息示例值: {"zh_cn":"描述"}
}

// CreateAilyAppDataAssetReqImportKnowledgeSetting ...
type CreateAilyAppDataAssetReqImportKnowledgeSetting struct {
	ChunkSetting  *CreateAilyAppDataAssetReqImportKnowledgeSettingChunkSetting  `json:"chunk_setting,omitempty"`   // 知识切片配置
	File          *CreateAilyAppDataAssetReqImportKnowledgeSettingFile          `json:"file,omitempty"`            // 知识导入-文件
	LarkDoc       *CreateAilyAppDataAssetReqImportKnowledgeSettingLarkDoc       `json:"lark_doc,omitempty"`        // 知识导入-飞书云文档
	LarkWikiSpace *CreateAilyAppDataAssetReqImportKnowledgeSettingLarkWikiSpace `json:"lark_wiki_space,omitempty"` // 知识导入-飞书知识空间
	LarkHelpdesk  *CreateAilyAppDataAssetReqImportKnowledgeSettingLarkHelpdesk  `json:"lark_helpdesk,omitempty"`   // 知识导入-飞书服务台
}

// CreateAilyAppDataAssetReqImportKnowledgeSettingChunkSetting ...
type CreateAilyAppDataAssetReqImportKnowledgeSettingChunkSetting struct {
	RuleType     string  `json:"rule_type,omitempty"`     // 切片规则示例值: "intelligent"可选值有: 按标识符智能切片 长度范围: `0` ～ `255` 字符
	SeparateType *string `json:"separate_type,omitempty"` // 切片分割符类型示例值: "paragraph"可选值有: 段落分隔符: "\n\n"、"\n"、空格标题分割符: ###### 长度范围: `0` ～ `255` 字符
	Size         *int64  `json:"size,omitempty"`          // 分段最大长度（字符）, 按标识符切片时必须填写示例值: 600 取值范围: `200` ～ `1000`
	Overlap      *int64  `json:"overlap,omitempty"`       // 分段重叠字符数, 按标识符切片时必须填写, 不能超过size的数值示例值: 10 取值范围: `0` ～ `200`
}

// CreateAilyAppDataAssetReqImportKnowledgeSettingFile ...
type CreateAilyAppDataAssetReqImportKnowledgeSettingFile struct {
	Title    *string `json:"title,omitempty"`     // 文件标题示例值: "文件标题" 长度范围: `0` ～ `255` 字符
	Token    *string `json:"token,omitempty"`     // 上传文件获取到的token。和content二选一, 优先使用token。示例值: "bb690637b49440b08f39459a2fdcd2ca" 长度范围: `0` ～ `255` 字符
	Content  *string `json:"content,omitempty"`   // 文件内容。和token二选一, 优先使用token。有长度限制, 大文件优先使用token方式。示例值: "这是文件内容" 长度范围: `0` ～ `65536` 字符
	MimeType *string `json:"mime_type,omitempty"` // 文件内容对应的 MIME 类型, 必须填写可选值: text/plain (.txt)- application/pdf (.pdf)- application/vnd.openxmlformats-officedocument.presentationml.presentation (.pptx)- application/vnd.openxmlformats-officedocument.wordprocessingml.document (.docx)示例值: "application/pdf" 长度范围: `0` ～ `255` 字符
	URL      *string `json:"url,omitempty"`       // 文件源的URL示例值: "https://document.com/1" 长度范围: `0` ～ `65535` 字符
}

// CreateAilyAppDataAssetReqImportKnowledgeSettingLarkDoc ...
type CreateAilyAppDataAssetReqImportKnowledgeSettingLarkDoc struct {
	Type        string `json:"type,omitempty"`          // 云文档类型示例值: "docx"可选值有: 飞书文档飞书文件飞书知识库飞书新版文档飞书文件夹 长度范围: `0` ～ `255` 字符
	Token       string `json:"token,omitempty"`         // 云文档token, 可以通过[搜索云文档](https://open.larkoffice.com/document/server-docs/docs/drive-v1/search/document-search)API获取示例值: "T8FAcuilgC1fdaxkt58vcp91xngh" 长度范围: `0` ～ `255` 字符
	WithSubDocs *bool  `json:"with_sub_docs,omitempty"` // 是否包含子文档, 只有wiki类型的云文档支持示例值: false
}

// CreateAilyAppDataAssetReqImportKnowledgeSettingLarkHelpdesk ...
type CreateAilyAppDataAssetReqImportKnowledgeSettingLarkHelpdesk struct {
	HelpdeskID string `json:"helpdesk_id,omitempty"` // 飞书服务台ID, 可以通过[服务台-接入指南](https://open.larkoffice.com/document/server-docs/helpdesk-v1/access-guide) 获取示例值: "123" 长度范围: `0` ～ `255` 字符
}

// CreateAilyAppDataAssetReqImportKnowledgeSettingLarkWikiSpace ...
type CreateAilyAppDataAssetReqImportKnowledgeSettingLarkWikiSpace struct {
	SpaceID string                                                                `json:"space_id,omitempty"` // 飞书知识空间ID, 可以通过[搜索 Wiki](https://open.larkoffice.com/document/server-docs/docs/wiki-v2/search_wiki)API获取示例值: "798546548961351" 长度范围: `0` ～ `255` 字符
	SubDocs []*CreateAilyAppDataAssetReqImportKnowledgeSettingLarkWikiSpaceSubDoc `json:"sub_docs,omitempty"` // 指定知识空间子节点时使用
	URL     *string                                                               `json:"url,omitempty"`      // 知识空间URL示例值: "https://ai-tenant.feishu-boe.cn/wiki/space/7283525110814736404" 长度范围: `0` ～ `65535` 字符
}

// CreateAilyAppDataAssetReqImportKnowledgeSettingLarkWikiSpaceSubDoc ...
type CreateAilyAppDataAssetReqImportKnowledgeSettingLarkWikiSpaceSubDoc struct {
	Type  string  `json:"type,omitempty"`  // 云文档类型, 只支持wiki中的云文档示例值: "wiki"可选值有: 飞书知识库 长度范围: `0` ～ `255` 字符
	Token string  `json:"token,omitempty"` // 云文档token, 可以通过[搜索云文档](https://open.larkoffice.com/document/server-docs/docs/drive-v1/search/document-search)API获取示例值: "T8FAcuilgC1fdaxkt58vcp91xngh" 长度范围: `0` ～ `255` 字符
	URL   *string `json:"url,omitempty"`   // 云文档链接示例值: "https://cdas.feishu.cn/wiki/fdisu1" 长度范围: `0` ～ `65535` 字符
}

// CreateAilyAppDataAssetResp ...
type CreateAilyAppDataAssetResp struct {
	DataAsset *CreateAilyAppDataAssetRespDataAsset `json:"data_asset,omitempty"` // 数据知识
}

// CreateAilyAppDataAssetRespDataAsset ...
type CreateAilyAppDataAssetRespDataAsset struct {
	DataAssetID         string                                     `json:"data_asset_id,omitempty"`         // 数据知识ID
	Label               interface{}                                `json:"label,omitempty"`                 // 数据知识标题
	Description         interface{}                                `json:"description,omitempty"`           // 数据知识描述
	DataSourceType      string                                     `json:"data_source_type,omitempty"`      // 数据资源类型可选值有: excelpdfpptxtxtdocxmysqlpostgresql飞书多维表格salesforce分享逍客巨量千川clickhousedatabricks飞书服务台飞书Wiki旧版飞书云文档, 目前已不支持飞书docs新版飞书云文档, 当前创建的飞书云文档均为此类型云盘/wiki中的pdf文件pdf文件云盘/wiki中的.docx（Word）云盘/wiki中的.pptx（Powerpoint）飞书电子表格飞书多维表格飞书个人文件夹飞书共享文件夹数据表
	ConnectStatus       string                                     `json:"connect_status,omitempty"`        // 数据连接状态可选值有: 等待连接连接中连接成功增量同步中部分成功连接失败
	Tags                []*CreateAilyAppDataAssetRespDataAssetTag  `json:"tags,omitempty"`                  // 数据知识分类列表
	Items               []*CreateAilyAppDataAssetRespDataAssetItem `json:"items,omitempty"`                 // 数据知识项列表
	ConnectFailedReason string                                     `json:"connect_failed_reason,omitempty"` // 连接状态失败信息
	ConnectType         string                                     `json:"connect_type,omitempty"`          // 数据连接类型可选值有: 导入直连
	CreatedTime         string                                     `json:"created_time,omitempty"`          // 创建时间, 毫秒时间戳
	UpdatedTime         string                                     `json:"updated_time,omitempty"`          // 更新时间, 毫秒时间戳
}

// CreateAilyAppDataAssetRespDataAssetItem ...
type CreateAilyAppDataAssetRespDataAssetItem struct {
	DataAssetItemID string                                             `json:"data_asset_item_id,omitempty"` // 数据知识项ID
	ApiName         string                                             `json:"api_name,omitempty"`           // 数据知识项标识
	Label           interface{}                                        `json:"label,omitempty"`              // 数据知识项标题
	Description     interface{}                                        `json:"description,omitempty"`        // 数据知识项描述
	Resources       []*CreateAilyAppDataAssetRespDataAssetItemResource `json:"resources,omitempty"`          // 数据知识资源
}

// CreateAilyAppDataAssetRespDataAssetItemResource ...
type CreateAilyAppDataAssetRespDataAssetItemResource struct {
	ResourceID   string `json:"resource_id,omitempty"`   // 数据知识资源ID
	ResourceType string `json:"resource_type,omitempty"` // 数据知识资源类型可选值有: 数据视图知识视图
}

// CreateAilyAppDataAssetRespDataAssetTag ...
type CreateAilyAppDataAssetRespDataAssetTag struct {
	DataAssetTagID string `json:"data_asset_tag_id,omitempty"` // 数据知识分类名称
	Name           string `json:"name,omitempty"`              // 数据知识分类ID
}

// createAilyAppDataAssetResp ...
type createAilyAppDataAssetResp struct {
	Code  int64                       `json:"code,omitempty"` // 错误码, 非 0 表示失败
	Msg   string                      `json:"msg,omitempty"`  // 错误描述
	Data  *CreateAilyAppDataAssetResp `json:"data,omitempty"`
	Error *ErrorDetail                `json:"error,omitempty"`
}
