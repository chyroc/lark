// Code generated by lark_sdk_gen. DO NOT EDIT.
/**
 * Copyright 2022 chyroc
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package lark

import (
	"context"
)

// GetHireWebsiteDeliveryTask 通过[根据简历附件创建招聘官网投递](https://open.feishu.cn/document/ukTMukTMukTM/uMzM1YjLzMTN24yMzUjN/hire-v1/website-delivery/create_by_attachment)接口创建的投递任务, 可通过本接口获取投递任务结果。如果获取到的数据 data 为空, 可继续轮询（正常情况下不会超过1分钟）直到获取到的 data 不为空。
//
// doc: https://open.feishu.cn/document/ukTMukTMukTM/uMzM1YjLzMTN24yMzUjN/hire-v1/website-delivery_task/get
// new doc: https://open.feishu.cn/document/server-docs/hire-v1/get-candidates/website/get-2
func (r *HireService) GetHireWebsiteDeliveryTask(ctx context.Context, request *GetHireWebsiteDeliveryTaskReq, options ...MethodOptionFunc) (*GetHireWebsiteDeliveryTaskResp, *Response, error) {
	if r.cli.mock.mockHireGetHireWebsiteDeliveryTask != nil {
		r.cli.Log(ctx, LogLevelDebug, "[lark] Hire#GetHireWebsiteDeliveryTask mock enable")
		return r.cli.mock.mockHireGetHireWebsiteDeliveryTask(ctx, request, options...)
	}

	req := &RawRequestReq{
		Scope:                 "Hire",
		API:                   "GetHireWebsiteDeliveryTask",
		Method:                "GET",
		URL:                   r.cli.openBaseURL + "/open-apis/hire/v1/websites/:website_id/delivery_tasks/:delivery_task_id",
		Body:                  request,
		MethodOption:          newMethodOption(options),
		NeedTenantAccessToken: true,
	}
	resp := new(getHireWebsiteDeliveryTaskResp)

	response, err := r.cli.RawRequest(ctx, req, resp)
	return resp.Data, response, err
}

// MockHireGetHireWebsiteDeliveryTask mock HireGetHireWebsiteDeliveryTask method
func (r *Mock) MockHireGetHireWebsiteDeliveryTask(f func(ctx context.Context, request *GetHireWebsiteDeliveryTaskReq, options ...MethodOptionFunc) (*GetHireWebsiteDeliveryTaskResp, *Response, error)) {
	r.mockHireGetHireWebsiteDeliveryTask = f
}

// UnMockHireGetHireWebsiteDeliveryTask un-mock HireGetHireWebsiteDeliveryTask method
func (r *Mock) UnMockHireGetHireWebsiteDeliveryTask() {
	r.mockHireGetHireWebsiteDeliveryTask = nil
}

// GetHireWebsiteDeliveryTaskReq ...
type GetHireWebsiteDeliveryTaskReq struct {
	WebsiteID      string `path:"website_id" json:"-"`       // 官网 ID, 可通过[获取招聘官网列表](https://open.larkoffice.com/document/server-docs/hire-v1/get-candidates/website/list)获取示例值: "7047318856652261676"
	DeliveryTaskID string `path:"delivery_task_id" json:"-"` // 投递任务 ID, 可通过[根据简历附件创建招聘官网投递](https://open.feishu.cn/document/ukTMukTMukTM/uMzM1YjLzMTN24yMzUjN/hire-v1/website-delivery/create_by_attachment)获取示例值: "f1c2a0f138ec492d99d7ab73594158ad"
}

// GetHireWebsiteDeliveryTaskResp ...
type GetHireWebsiteDeliveryTaskResp struct {
	Status    int64                                   `json:"status,omitempty"`     // 任务状态可选值有: 新建处理中成功失败
	Delivery  *GetHireWebsiteDeliveryTaskRespDelivery `json:"delivery,omitempty"`   // 官网投递信息
	StatusMsg string                                  `json:"status_msg,omitempty"` // 状态信息, 仅在任务状态（status）为失败（3）时返回
	ExtraInfo string                                  `json:"extra_info,omitempty"` // 附加信息, 在任务状态（status）为失败（3）时、且状态信息（status_msg）标识为重复投递时, 返回重复投递的 ID
}

// GetHireWebsiteDeliveryTaskRespDelivery ...
type GetHireWebsiteDeliveryTaskRespDelivery struct {
	ApplicationID  string `json:"application_id,omitempty"`   // 投递 ID, 可通过[获取投递信息](https://open.feishu.cn/document/ukTMukTMukTM/uMzM1YjLzMTN24yMzUjN/hire-v1/application/get)获取详细信息
	ID             string `json:"id,omitempty"`               // ID, 废弃字段, 请勿使用
	JobID          string `json:"job_id,omitempty"`           // 职位 ID, 可通过[获取职位信息](https://open.feishu.cn/document/ukTMukTMukTM/uMzM1YjLzMTN24yMzUjN/hire-v1/job/get)获取详细信息
	JobPostID      string `json:"job_post_id,omitempty"`      // 职位广告 ID, 可通过[获取招聘官网下职位广告详情](https://open.larkoffice.com/document/server-docs/hire-v1/get-candidates/website/get)获取详细信息
	PortalResumeID string `json:"portal_resume_id,omitempty"` // 官网简历 ID, 可通过[获取附件信息](https://open.feishu.cn/document/ukTMukTMukTM/uMzM1YjLzMTN24yMzUjN/hire-v1/attachment/get)获取详细信息
	UserID         string `json:"user_id,omitempty"`          // 官网用户 ID
	TalentID       string `json:"talent_id,omitempty"`        // 人才 ID, 可通过[获取人才信息](https://open.larkoffice.com/document/server-docs/hire-v1/candidate-management/talent/get-2)获取详细信息
}

// getHireWebsiteDeliveryTaskResp ...
type getHireWebsiteDeliveryTaskResp struct {
	Code  int64                           `json:"code,omitempty"` // 错误码, 非 0 表示失败
	Msg   string                          `json:"msg,omitempty"`  // 错误描述
	Data  *GetHireWebsiteDeliveryTaskResp `json:"data,omitempty"`
	Error *ErrorDetail                    `json:"error,omitempty"`
}
