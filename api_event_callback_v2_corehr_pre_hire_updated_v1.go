// Code generated by lark_sdk_gen. DO NOT EDIT.
/**
 * Copyright 2022 chyroc
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package lark

import (
	"context"
)

// EventV2CoreHRPreHireUpdatedV1 待入职人员任职信息更新后, 触发此事件, 包括两种场景:
//
// - 通过开放平台接口创建待入职、更新待入职
// - 在飞书人事-入职系统, HR 补充任职信息
// 如果有创建待入职后, 更新数据的场景, 请收到创建事件后延迟10s时间再执行更新操作{使用示例}(url=/api/tools/api_explore/api_explore_config?project=corehr&version=v1&resource=pre_hire&event=updated)
// - 通过开放平台删除待入职接口不会触发事件。
// - 本事件基于mysql binlog 设计, 会存在发送冗余事件情况, 后续会提供无冗余事件版本。
//
// doc: https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/pre_hire/events/updated
// new doc: https://open.feishu.cn/document/corehr-v1/pre_hire/pre-hire-events/updated
func (r *EventCallbackService) HandlerEventV2CoreHRPreHireUpdatedV1(f EventV2CoreHRPreHireUpdatedV1Handler) {
	r.cli.eventHandler.eventV2CoreHRPreHireUpdatedV1Handler = f
}

// EventV2CoreHRPreHireUpdatedV1Handler event EventV2CoreHRPreHireUpdatedV1 handler
type EventV2CoreHRPreHireUpdatedV1Handler func(ctx context.Context, cli *Lark, schema string, header *EventHeaderV2, event *EventV2CoreHRPreHireUpdatedV1) (string, error)

// EventV2CoreHRPreHireUpdatedV1 ...
type EventV2CoreHRPreHireUpdatedV1 struct {
	PreHireID    string   `json:"pre_hire_id,omitempty"`   // 待入职 ID, 可通过[【搜索待入职人员】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/pre_hire/search)获取更详细信息
	FieldChanges []string `json:"field_changes,omitempty"` // 变更的字段。由于历史原因, 部分字段（例如个人信息）变更会发送为‘wk_updated_at’字段, 不会显示真实变更字段, 需要通过[【搜索待入职人员】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/pre_hire/search)获取更详细信息。
}
