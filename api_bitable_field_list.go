// Code generated by lark_sdk_gen. DO NOT EDIT.
/**
 * Copyright 2022 chyroc
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package lark

import (
	"context"
)

// GetBitableFieldList 获取多维表格数据表中的的所有字段。
//
// doc: https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/bitable-v1/app-table-field/list
// new doc: https://open.feishu.cn/document/server-docs/docs/bitable-v1/app-table-field/list
func (r *BitableService) GetBitableFieldList(ctx context.Context, request *GetBitableFieldListReq, options ...MethodOptionFunc) (*GetBitableFieldListResp, *Response, error) {
	if r.cli.mock.mockBitableGetBitableFieldList != nil {
		r.cli.Log(ctx, LogLevelDebug, "[lark] Bitable#GetBitableFieldList mock enable")
		return r.cli.mock.mockBitableGetBitableFieldList(ctx, request, options...)
	}

	req := &RawRequestReq{
		Scope:                 "Bitable",
		API:                   "GetBitableFieldList",
		Method:                "GET",
		URL:                   r.cli.openBaseURL + "/open-apis/bitable/v1/apps/:app_token/tables/:table_id/fields",
		Body:                  request,
		MethodOption:          newMethodOption(options),
		NeedTenantAccessToken: true,
		NeedUserAccessToken:   true,
	}
	resp := new(getBitableFieldListResp)

	response, err := r.cli.RawRequest(ctx, req, resp)
	return resp.Data, response, err
}

// MockBitableGetBitableFieldList mock BitableGetBitableFieldList method
func (r *Mock) MockBitableGetBitableFieldList(f func(ctx context.Context, request *GetBitableFieldListReq, options ...MethodOptionFunc) (*GetBitableFieldListResp, *Response, error)) {
	r.mockBitableGetBitableFieldList = f
}

// UnMockBitableGetBitableFieldList un-mock BitableGetBitableFieldList method
func (r *Mock) UnMockBitableGetBitableFieldList() {
	r.mockBitableGetBitableFieldList = nil
}

// GetBitableFieldListReq ...
type GetBitableFieldListReq struct {
	AppToken         string  `path:"app_token" json:"-"`            // 多维表格 App 的唯一标识。不同形态的多维表格, 其 `app_token` 的获取方式不同: 如果多维表格的 URL 以 [feishu.cn/base] 开头, 该多维表格的 `app_token` 是下图高亮部分: ![app_token.png](//sf3-cn.feishucdn.com/obj/open-platform-opendoc/6916f8cfac4045ba6585b90e3afdfb0a_GxbfkJHZBa.png?height=766&lazyload=true&width=3004)- 如果多维表格的 URL 以 [feishu.cn/wiki] 开头, 你需调用知识库相关[获取知识空间节点信息](https://open.feishu.cn/document/ukTMukTMukTM/uUDN04SN0QjL1QDN/wiki-v2/space/get_node)接口获取多维表格的 app_token。当 `obj_type` 的值为 `bitable` 时, `obj_token` 字段的值才是多维表格的 `app_token`。了解更多, 参考[多维表格 app_token 获取方式](https://open.feishu.cn/document/ukTMukTMukTM/uUDN04SN0QjL1QDN/bitable-overview#-752212c)。示例值: "appbcbWCzen6D8dezhoCH2RpMAh"
	TableID          string  `path:"table_id" json:"-"`             // 多维表格数据表的唯一标识。获取方式: 你可通过多维表格 URL 获取 `table_id`, 下图高亮部分即为当前数据表的 `table_id`- 也可通过[列出数据表](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/bitable-v1/app-table/list)接口获取 `table_id`  ![](//sf3-cn.feishucdn.com/obj/open-platform-opendoc/18741fe2a0d3cafafaf9949b263bb57d_yD1wkOrSju.png?height=746&lazyload=true&maxWidth=700&width=2976)示例值: "tblsRc9GRRXKqhvW"
	ViewID           *string `query:"view_id" json:"-"`             // 多维表格中视图的唯一标识。获取方式: 在多维表格的 URL 地址栏中, `view_id` 是下图中高亮部分: ![view_id.png](//sf3-cn.feishucdn.com/obj/open-platform-opendoc/140668632c97e0095832219001d17c54_DJMgVH9x2S.png?height=748&lazyload=true&width=2998)- 通过[列出视图](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/bitable-v1/app-table-view/list)接口获取。暂时无法获取到嵌入到云文档中的多维表格的 `view_id`。注意: 当 `filter` 参数 或 `sort` 参数不为空时, 请求视为对数据表中的全部数据做条件过滤, 指定的 `view_id` 会被忽略。示例值: vewOVMEXPF
	TextFieldAsArray *bool   `query:"text_field_as_array" json:"-"` // 控制字段描述 `description` 数据的返回格式, 默认为 false。true 表示 `description` 将以数组形式返回, 如: ```json{    "description": [        {            "text": "字段的描述", "type": "text"        }    ]}```示例值: true
	PageToken        *string `query:"page_token" json:"-"`          // 分页标记, 第一次请求不填, 表示从头开始遍历；分页查询结果还有更多项时会同时返回新的 page_token, 下次遍历可采用该 page_token 获取查询结果示例值: fldwJ4YrtB
	PageSize         *int64  `query:"page_size" json:"-"`           // 分页大小示例值: 10默认值: `20` 最大值: `100`
}

// GetBitableFieldListResp ...
type GetBitableFieldListResp struct {
	HasMore   bool                           `json:"has_more,omitempty"`   // 是否还有更多项
	PageToken string                         `json:"page_token,omitempty"` // 分页标记, 当 has_more 为 true 时, 会同时返回新的 page_token, 否则不返回 page_token
	Total     int64                          `json:"total,omitempty"`      // 总数
	Items     []*GetBitableFieldListRespItem `json:"items,omitempty"`      // 字段信息
}

// GetBitableFieldListRespItem ...
type GetBitableFieldListRespItem struct {
	FieldName   string                               `json:"field_name,omitempty"`  // 多维表格字段名称。名称中的首尾空格将会被去除。
	Type        int64                                `json:"type,omitempty"`        // 多维表格字段类型可选值有: 文本数字单选多选日期复选框人员电话号码超链接附件关联公式双向关联地理位置群组创建时间最后更新时间创建人修改人自动编号
	Property    *GetBitableFieldListRespItemProperty `json:"property,omitempty"`    // 字段属性, 具体可参考[字段编辑指南](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/bitable-v1/app-table-field/guide)。
	Description interface{}                          `json:"description,omitempty"` // 字段的描述。可能是数组或字符串类型。由请求参数 `text_field_as_array` 决定。
	IsPrimary   bool                                 `json:"is_primary,omitempty"`  // 是否是索引列
	FieldID     string                               `json:"field_id,omitempty"`    // 多维表格字段 ID
	UiType      string                               `json:"ui_type,omitempty"`     // 字段在界面上的展示类型, 例如进度字段是数字的一种展示形态。了解更多, 参考[字段编辑指南](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/bitable-v1/app-table-field/guide)。可选值有: 多行文本条码数字进度货币评分单选多选日期复选框人员群组电话号码超链接附件单向关联公式双向关联地理位置创建时间最后更新时间创建人修改人自动编号
	IsHidden    bool                                 `json:"is_hidden,omitempty"`   // 是否是隐藏字段
}

// GetBitableFieldListRespItemProperty ...
type GetBitableFieldListRespItemProperty struct {
	Options           []*GetBitableFieldListRespItemPropertyOption         `json:"options,omitempty"`            // 单选、多选字段的选项信息
	Formatter         string                                               `json:"formatter,omitempty"`          // 数字、公式字段的显示格式
	DateFormatter     string                                               `json:"date_formatter,omitempty"`     // 日期、创建时间、最后更新时间字段的显示格式
	AutoFill          bool                                                 `json:"auto_fill,omitempty"`          // 日期字段中新纪录自动填写创建时间
	Multiple          bool                                                 `json:"multiple,omitempty"`           // 人员字段中允许添加多个成员, 单向关联、双向关联中允许添加多个记录
	TableID           string                                               `json:"table_id,omitempty"`           // 单向关联、双向关联字段中关联的数据表的 ID
	TableName         string                                               `json:"table_name,omitempty"`         // 单向关联、双向关联字段中关联的数据表的名字
	BackFieldName     string                                               `json:"back_field_name,omitempty"`    // 双向关联字段中关联的数据表中对应的双向关联字段的名字
	AutoSerial        *GetBitableFieldListRespItemPropertyAutoSerial       `json:"auto_serial,omitempty"`        // 自动编号类型
	Location          *GetBitableFieldListRespItemPropertyLocation         `json:"location,omitempty"`           // 地理位置输入方式
	FormulaExpression string                                               `json:"formula_expression,omitempty"` // 公式字段的表达式
	AllowedEditModes  *GetBitableFieldListRespItemPropertyAllowedEditModes `json:"allowed_edit_modes,omitempty"` // 字段支持的编辑模式
	Min               float64                                              `json:"min,omitempty"`                // 进度、评分等字段的数据范围最小值
	Max               float64                                              `json:"max,omitempty"`                // 进度、评分等字段的数据范围最大值
	RangeCustomize    bool                                                 `json:"range_customize,omitempty"`    // 进度等字段是否支持自定义范围
	CurrencyCode      string                                               `json:"currency_code,omitempty"`      // 货币币种
	Rating            *GetBitableFieldListRespItemPropertyRating           `json:"rating,omitempty"`             // 评分字段的相关设置
	Type              *GetBitableFieldListRespItemPropertyType             `json:"type,omitempty"`               // 设置公式字段的数据类型注意: 非所有多维表格都支持该能力。请参考[获取多维表格元数据](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/bitable-v1/app/get)接口返回的formula_type 判断, 当 `formula_type` 等于 2 时, 表示需要设置该字段。
	FilterInfo        *GetBitableFieldListRespItemPropertyFilterInfo       `json:"filter_info,omitempty"`        // 查找引用关系
}

// GetBitableFieldListRespItemPropertyAllowedEditModes ...
type GetBitableFieldListRespItemPropertyAllowedEditModes struct {
	Manual bool `json:"manual,omitempty"` // 是否允许手动录入
	Scan   bool `json:"scan,omitempty"`   // 是否允许移动端录入
}

// GetBitableFieldListRespItemPropertyAutoSerial ...
type GetBitableFieldListRespItemPropertyAutoSerial struct {
	Type    string                                                 `json:"type,omitempty"`    // 自动编号类型可选值有: 自定义编号自增数字
	Options []*GetBitableFieldListRespItemPropertyAutoSerialOption `json:"options,omitempty"` // 自动编号规则列表
}

// GetBitableFieldListRespItemPropertyAutoSerialOption ...
type GetBitableFieldListRespItemPropertyAutoSerialOption struct {
	Type  string `json:"type,omitempty"`  // 自动编号的可选规则项类型可选值有: 自增数字位, value范围1-9固定字符, 最大长度: 20创建时间, 支持格式 "yyyyMMdd"、"yyyyMM"、"yyyy"、"MMdd"、"MM"、"dd"
	Value string `json:"value,omitempty"` // 与自动编号的可选规则项类型相对应的取值
}

// GetBitableFieldListRespItemPropertyFilterInfo ...
type GetBitableFieldListRespItemPropertyFilterInfo struct {
	TargetTable string                                                   `json:"target_table,omitempty"` // 引用表格
	FilterInfo  *GetBitableFieldListRespItemPropertyFilterInfoFilterInfo `json:"filter_info,omitempty"`  // 查找条件
}

// GetBitableFieldListRespItemPropertyFilterInfoFilterInfo ...
type GetBitableFieldListRespItemPropertyFilterInfoFilterInfo struct {
	Conjunction string                                                              `json:"conjunction,omitempty"` // 多个筛选条件的关系可选值有: 与或
	Conditions  []*GetBitableFieldListRespItemPropertyFilterInfoFilterInfoCondition `json:"conditions,omitempty"`  // 筛选条件
}

// GetBitableFieldListRespItemPropertyFilterInfoFilterInfoCondition ...
type GetBitableFieldListRespItemPropertyFilterInfoFilterInfoCondition struct {
	FieldID     string `json:"field_id,omitempty"`     // 用于过滤的字段唯一ID
	Operator    string `json:"operator,omitempty"`     // 过滤操作的类型可选值有: 等于不等于包含不包含为空不为空大于大于等于小于小于等于
	Value       string `json:"value,omitempty"`        // 筛选值
	ConditionID string `json:"condition_id,omitempty"` // 过滤条件的唯一ID
	FieldType   int64  `json:"field_type,omitempty"`   // 用于过滤的字段类型
}

// GetBitableFieldListRespItemPropertyLocation ...
type GetBitableFieldListRespItemPropertyLocation struct {
	InputType string `json:"input_type,omitempty"` // 地理位置输入限制可选值有: 只允许移动端上传无限制
}

// GetBitableFieldListRespItemPropertyOption ...
type GetBitableFieldListRespItemPropertyOption struct {
	Name  string `json:"name,omitempty"`  // 选项名
	ID    string `json:"id,omitempty"`    // 选项 ID, 创建时不允许指定 ID
	Color int64  `json:"color,omitempty"` // 选项颜色
}

// GetBitableFieldListRespItemPropertyRating ...
type GetBitableFieldListRespItemPropertyRating struct {
	Symbol string `json:"symbol,omitempty"` // 评分字段的符号展示
}

// GetBitableFieldListRespItemPropertyType ...
type GetBitableFieldListRespItemPropertyType struct {
	DataType   int64                                              `json:"data_type,omitempty"`   // 公式字段对应的数据类型可选值有: 文本（默认值）、条码数字（默认值）、进度、货币、评分单选多选日期复选框人员电话号码超链接附件单向关联公式双向关联地理位置群组创建时间最后更新时间创建人修改人自动编号
	UiProperty *GetBitableFieldListRespItemPropertyTypeUiProperty `json:"ui_property,omitempty"` // 公式数据属性
	UiType     string                                             `json:"ui_type,omitempty"`     // 公式字段在界面上的展示类型, 例如进度字段是数字的一种展示形态。了解更多, 参考[字段编辑指南](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/bitable-v1/app-table-field/guide)。可选值有: 数字进度货币评分日期
}

// GetBitableFieldListRespItemPropertyTypeUiProperty ...
type GetBitableFieldListRespItemPropertyTypeUiProperty struct {
	CurrencyCode   string                                                   `json:"currency_code,omitempty"`   // 货币币种
	Formatter      string                                                   `json:"formatter,omitempty"`       // 数字、公式字段的显示格式
	RangeCustomize bool                                                     `json:"range_customize,omitempty"` // 进度等字段是否支持自定义范围
	Min            float64                                                  `json:"min,omitempty"`             // 进度、评分等字段的数据范围最小值
	Max            float64                                                  `json:"max,omitempty"`             // 进度、评分等字段的数据范围最大值
	DateFormatter  string                                                   `json:"date_formatter,omitempty"`  // 日期、创建时间、最后更新时间字段的显示格式
	Rating         *GetBitableFieldListRespItemPropertyTypeUiPropertyRating `json:"rating,omitempty"`          // 评分字段的相关设置
}

// GetBitableFieldListRespItemPropertyTypeUiPropertyRating ...
type GetBitableFieldListRespItemPropertyTypeUiPropertyRating struct {
	Symbol string `json:"symbol,omitempty"` // 评分字段的符号展示
}

// getBitableFieldListResp ...
type getBitableFieldListResp struct {
	Code  int64                    `json:"code,omitempty"` // 错误码, 非 0 表示失败
	Msg   string                   `json:"msg,omitempty"`  // 错误描述
	Data  *GetBitableFieldListResp `json:"data,omitempty"`
	Error *ErrorDetail             `json:"error,omitempty"`
}
