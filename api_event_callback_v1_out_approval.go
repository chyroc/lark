// Code generated by lark_sdk_gen. DO NOT EDIT.
/**
 * Copyright 2022 chyroc
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package lark

import (
	"context"
)

// EventV1OutApproval 审批定义的表单包含 外出控件组 时, 该定义下的审批实例在 通过 或者 通过并撤销 时, 会触发该事件。
//
// ## 前提条件
// - 应用已配置事件订阅, 了解事件订阅可参见[事件订阅概述](https://open.feishu.cn/document/ukTMukTMukTM/uUTNz4SN1MjL1UzM)。
// - 应用已调用[订阅审批事件](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/approval-v4/approval/subscribe)接口, 订阅了审批实例对应的审批定义 Code。
// ## 使用说明
// 订阅该事件（事件类型为 out_approval）后, 可以接收到两个事件:
// - 事件类型（type 为 out_approval）指外出审批通过事件。
// - 事件类型（type 为 out_approval_revert）指外出审批通过并撤销事件。
//
// doc: https://open.feishu.cn/document/ukTMukTMukTM/uIDO24iM4YjLygjN/event/out-of-office
// new doc: https://open.feishu.cn/document/server-docs/approval-v4/event/special-event/out-of-office
func (r *EventCallbackService) HandlerEventV1OutApproval(f EventV1OutApprovalHandler) {
	r.cli.eventHandler.eventV1OutApprovalHandler = f
}

// EventV1OutApprovalHandler event EventV1OutApproval handler
type EventV1OutApprovalHandler func(ctx context.Context, cli *Lark, schema string, header *EventHeaderV1, event *EventV1OutApproval) (string, error)

// EventV1OutApproval ...
type EventV1OutApproval struct {
	AppID         string   `json:"app_id,omitempty"`         // 应用的 App ID。可调用[获取应用信息](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/application-v6/application/get)接口查询应用详细信息。
	StartTime     int64    `json:"start_time,omitempty"`     // 审批开始时间, 秒级时间戳。
	EndTime       int64    `json:"end_time,omitempty"`       // 审批结束时间, 秒级时间戳。
	I18nResources []string `json:"i18n_resources,omitempty"` // 外出类型选项的国际化文案。
	InstanceCode  string   `json:"instance_code,omitempty"`  // 审批实例 Code。可调用[获取单个审批实例详情](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/approval-v4/instance/get)接口查询审批实例详情。
	ApprovalCode  string   `json:"approval_code,omitempty"`  // 审批定义 Code。可调用[查看指定审批定义](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/approval-v4/approval/get)接口查询审批定义详情。
	OpenID        string   `json:"open_id,omitempty"`        // 审批发起人的 open_id。你可以调用[获取单个用户信息](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/contact-v3/user/get)接口, 通过 open_id 获取用户信息。
	OutStartTime  string   `json:"out_start_time,omitempty"` // 外出开始时间。示例格式: 2025-01-14 19:00:00
	OutEndTime    string   `json:"out_end_time,omitempty"`   // 外出结束时间。示例格式: 2025-01-14 19:00:00
	OutImage      string   `json:"out_image,omitempty"`      // 外出拍照的图片。
	OutInterval   int64    `json:"out_interval,omitempty"`   // 外出时长。单位: 秒
	OutName       string   `json:"out_name,omitempty"`       // 外出类型, 需要根据该参数返回的数值, 从 `i18n_resources` 参数中获取对应的外出类型文案。
	OutReason     string   `json:"out_reason,omitempty"`     // 外出事由。
	OutUnit       string   `json:"out_unit,omitempty"`       // 外出时长的单位, 该单位对应填写表单时显示的时长单位。例如表单的外出时长单位是小时, 则这里取值 HOUR。- HOUR: 小时- DAY: 天- HALR_DAY: 半天
	TenantKey     string   `json:"tenant_key,omitempty"`     // 租户 Key, 是企业的唯一标识。
	Type          string   `json:"type,omitempty"`           // 事件类型。固定值 `out_approval`
	UserID        string   `json:"user_id,omitempty"`        // 审批发起人的 user_id。你可以调用[获取单个用户信息](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/contact-v3/user/get)接口, 通过 user_id 获取用户信息。
}

// EventV1OutApprovalResp ...
type EventV1OutApprovalResp struct {
}

// eventV1OutApprovalResp ...
type eventV1OutApprovalResp struct {
	Code  int64                   `json:"code,omitempty"`
	Msg   string                  `json:"msg,omitempty"`
	Data  *EventV1OutApprovalResp `json:"data,omitempty"`
	Error *ErrorDetail            `json:"error,omitempty"`
}
