// Code generated by lark_sdk_gen. DO NOT EDIT.
/**
 * Copyright 2022 chyroc
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package lark

import (
	"context"
)

// CreateCorehrReportDetailRowBatchsave 批量创建/更新填报行后, 可在【设置-编制规划设置-编制规划XXX-集中填报-查看数据】进行查看。
//
// 批量创建/更新填报行说明: 同批次操作场景下, 禁止创建/更新重复行, 与此同时, 创建时若填报行已存在于系统中, 则会在底层自动触发更新机制；建议不要录入编制规划值和预估在职人数均为零值的填报行, 系统会对全0填报行进行过滤, 从而在页面上不显示该行, 可能会导致用户误以为填报行不存在。
//
// doc: https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/report_detail_row/batchSave
// new doc: https://open.feishu.cn/document/corehr-v1/workforce_plan/batchSave-2
func (r *CoreHRService) CreateCorehrReportDetailRowBatchsave(ctx context.Context, request *CreateCorehrReportDetailRowBatchsaveReq, options ...MethodOptionFunc) (*CreateCorehrReportDetailRowBatchsaveResp, *Response, error) {
	if r.cli.mock.mockCoreHRCreateCorehrReportDetailRowBatchsave != nil {
		r.cli.Log(ctx, LogLevelDebug, "[lark] CoreHR#CreateCorehrReportDetailRowBatchsave mock enable")
		return r.cli.mock.mockCoreHRCreateCorehrReportDetailRowBatchsave(ctx, request, options...)
	}

	req := &RawRequestReq{
		Scope:                 "CoreHR",
		API:                   "CreateCorehrReportDetailRowBatchsave",
		Method:                "POST",
		URL:                   r.cli.openBaseURL + "/open-apis/corehr/v2/report_detail_row/batchSave",
		Body:                  request,
		MethodOption:          newMethodOption(options),
		NeedTenantAccessToken: true,
	}
	resp := new(createCorehrReportDetailRowBatchsaveResp)

	response, err := r.cli.RawRequest(ctx, req, resp)
	return resp.Data, response, err
}

// MockCoreHRCreateCorehrReportDetailRowBatchsave mock CoreHRCreateCorehrReportDetailRowBatchsave method
func (r *Mock) MockCoreHRCreateCorehrReportDetailRowBatchsave(f func(ctx context.Context, request *CreateCorehrReportDetailRowBatchsaveReq, options ...MethodOptionFunc) (*CreateCorehrReportDetailRowBatchsaveResp, *Response, error)) {
	r.mockCoreHRCreateCorehrReportDetailRowBatchsave = f
}

// UnMockCoreHRCreateCorehrReportDetailRowBatchsave un-mock CoreHRCreateCorehrReportDetailRowBatchsave method
func (r *Mock) UnMockCoreHRCreateCorehrReportDetailRowBatchsave() {
	r.mockCoreHRCreateCorehrReportDetailRowBatchsave = nil
}

// CreateCorehrReportDetailRowBatchsaveReq ...
type CreateCorehrReportDetailRowBatchsaveReq struct {
	WorkforcePlanID               string                                         `json:"workforce_plan_id,omitempty"`                // 编制规划id, 可在「设置-编制规划设置-编制规划XXX-页面URL」中解析到。示例值: "7430330781544564268"
	CentralizedReportingProjectID string                                         `json:"centralized_reporting_project_id,omitempty"` // 集中填报id, 可在「设置-编制规划设置-编制规划XXX-集中填报XXX-查看数据-页面URL」中解析report_id。示例值: "7430470688844023340"
	Items                         []*CreateCorehrReportDetailRowBatchsaveReqItem `json:"items,omitempty"`                            // 集中填报的填报行数量应介于 1 至 5 个之间。 长度范围: `1` ～ `5`
}

// CreateCorehrReportDetailRowBatchsaveReqItem ...
type CreateCorehrReportDetailRowBatchsaveReqItem struct {
	Dimensions        []*CreateCorehrReportDetailRowBatchsaveReqItemDimension        `json:"dimensions,omitempty"`          // 集中填报的维度信息要和用户创建的维度匹配, 即传入除自动匹配维度外的所有维度, 不多不少。通过「设置-编制规划设置-编制规划XXX」查看该编制规划有哪些维度。自定义组织暂时不支持【为组织设置自动匹配规则】, 请联系[技术支持](https://applink.feishu.cn/TLJpeNdW)了解如何判断该字段是否为自动匹配字段。 长度范围: `1` ～ `20`
	EaiDetails        []*CreateCorehrReportDetailRowBatchsaveReqItemEaiDetail        `json:"eai_details,omitempty"`         // 预估在职人数相关信息。可从「设置-编制规划设置-编制规划XXX-集中填报」查看预估在职人数的时间, 如果不存在该字段说明用户创建时即没有允许填写该字段, 批量创建/更新填报行时则无需给该字段, 如果存在, 用户需要查看预估在职人数的日期, 使用示例值格式进行传参。 长度范围: `0` ～ `15`
	PlanValue         *string                                                        `json:"plan_value,omitempty"`          // 编制规划值。需与创建编制规划时指定的小数位数相匹配, 若不匹配, 则无法更新。小数位查看方式: 「设置-编制规划-编制规划XXX」查看编制规划的小数位数。注意当编制规划方案是按自然周期选择时, 该值必须为空, 需要设置自然周期的编制规划信息multi_period_values。示例值: "12"
	MultiPeriodValues []*CreateCorehrReportDetailRowBatchsaveReqItemMultiPeriodValue `json:"multi_period_values,omitempty"` // 自然周期的编制规划信息。当编制规划方案是按自然周期选择时, 设置该字段。 长度范围: `0` ～ `15`
}

// CreateCorehrReportDetailRowBatchsaveReqItemDimension ...
type CreateCorehrReportDetailRowBatchsaveReqItemDimension struct {
	DimensionKey   string `json:"dimension_key,omitempty"`   // 维度key, 可从下面列表中进行选择: "department": 部门。- "employee_type" : 人员类型。- "location": 地点。- "position" : 岗位。- "cost_center" : 成本中心/业务线。- "job_family" : 序列。- "job_level" : 职级。- "job" : 职务。自定义组织: "custom_org_01" - "custom_org_02"- "custom_org_03"- "custom_org_04" - "custom_org_05"示例值: "department"
	DimensionValue string `json:"dimension_value,omitempty"` // 维度value。- department_id: 可从[查询部门](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/department/batch_get)获得。- location_id: 可从[查询地点](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/location/list)获得。- cost_center_id: 可从[查询成本中心](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/cost_center/search)获得。- job_id: 可从[查询职务](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/job/list)获得。- job_level_id: 可从[查询职级](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job_level/list)获得。- job_family_id: 可从[查询序列](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job_family/list)获得。- employee_type_id: 可从[查询人员类型](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/employee_type/list)获得。- position_id: 岗位, 功能灰度中, 如有需求请联系技术支持- custom_org_01_id: 自定义组织, 功能灰度中, 有需要请联系技术支持- custom_org_02_id: 自定义组织, 功能灰度中, 有需要请联系技术支持- custom_org_03_id: 自定义组织, 功能灰度中, 有需要请联系技术支持- custom_org_04_id: 自定义组织, 功能灰度中, 有需要请联系技术支持- custom_org_05_id: 自定义组织, 功能灰度中, 有需要请联系技术支持示例值: "7322790168290739756"
}

// CreateCorehrReportDetailRowBatchsaveReqItemEaiDetail ...
type CreateCorehrReportDetailRowBatchsaveReqItemEaiDetail struct {
	Date                       *string `json:"date,omitempty"`                         // 预估在职人数的日期, 和集中填报页面上显示的预估在职人数的日期一致, 且格式要依照示例给定, 若二者不匹配, 则无法完成识别更新。示例值: "2020-10-31"
	EstimatedActiveIndividuals *string `json:"estimated_active_individuals,omitempty"` // 预估在职人数应与创建编制规划时指定的小数位数相匹配, 若不匹配, 则无法更新。小数位查看方式: 「设置-编制规划-编制规划XXX」查看预估在职人数的小数位数。示例值: "10"
}

// CreateCorehrReportDetailRowBatchsaveReqItemMultiPeriodValue ...
type CreateCorehrReportDetailRowBatchsaveReqItemMultiPeriodValue struct {
	PeriodDate             *string `json:"period_date,omitempty"`               // 周期的最后一天。注意需要在填报选择的周期范围内。示例值: "2022-10-31"
	WorkforcePlan          *string `json:"workforce_plan,omitempty"`            // 对应自然周期的编制规划值。编制规划值需与创建编制规划时指定的小数位数相匹配, 若不匹配, 则无法更新。小数位查看方式: 「设置-编制规划-编制规划XXX」查看编制规划的小数位数。示例值: "12.00"
	IndividualsToBeAdded   *string `json:"individuals_to_be_added,omitempty"`   // 对应自然周期预增员数量。批量创建更新时, 无需写入此字段。示例值: "10.00"
	IndividualsToBeRemoved *string `json:"individuals_to_be_removed,omitempty"` // 对应自然周期预减员数量。批量创建更新时, 无需写入此字段。示例值: "10.00"
}

// CreateCorehrReportDetailRowBatchsaveResp ...
type CreateCorehrReportDetailRowBatchsaveResp struct {
}

// createCorehrReportDetailRowBatchsaveResp ...
type createCorehrReportDetailRowBatchsaveResp struct {
	Code  int64                                     `json:"code,omitempty"` // 错误码, 非 0 表示失败
	Msg   string                                    `json:"msg,omitempty"`  // 错误描述
	Data  *CreateCorehrReportDetailRowBatchsaveResp `json:"data,omitempty"`
	Error *ErrorDetail                              `json:"error,omitempty"`
}
