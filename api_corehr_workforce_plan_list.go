// Code generated by lark_sdk_gen. DO NOT EDIT.
/**
 * Copyright 2022 chyroc
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package lark

import (
	"context"
)

// ListCoreHRWorkforcePlan 根据传入的筛选项获取编制规划的方案列表
//
// - 请求体入参如果没有特殊说明, 不填写默认为空, 不参与筛选。
// - 所有筛选项可一起使用, 之间为 AND 关系。
// - 延迟说明: 数据库主从延迟 2s 以内, 即: 直接创建编制规划方案后 2s 内调用此接口可能查询不到数据。
//
// doc: https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/workforce_plan/list
// new doc: https://open.feishu.cn/document/corehr-v1/workforce_plan/list
func (r *CoreHRService) ListCoreHRWorkforcePlan(ctx context.Context, request *ListCoreHRWorkforcePlanReq, options ...MethodOptionFunc) (*ListCoreHRWorkforcePlanResp, *Response, error) {
	if r.cli.mock.mockCoreHRListCoreHRWorkforcePlan != nil {
		r.cli.Log(ctx, LogLevelDebug, "[lark] CoreHR#ListCoreHRWorkforcePlan mock enable")
		return r.cli.mock.mockCoreHRListCoreHRWorkforcePlan(ctx, request, options...)
	}

	req := &RawRequestReq{
		Scope:                 "CoreHR",
		API:                   "ListCoreHRWorkforcePlan",
		Method:                "GET",
		URL:                   r.cli.openBaseURL + "/open-apis/corehr/v2/workforce_plans",
		Body:                  request,
		MethodOption:          newMethodOption(options),
		NeedTenantAccessToken: true,
	}
	resp := new(listCoreHRWorkforcePlanResp)

	response, err := r.cli.RawRequest(ctx, req, resp)
	return resp.Data, response, err
}

// MockCoreHRListCoreHRWorkforcePlan mock CoreHRListCoreHRWorkforcePlan method
func (r *Mock) MockCoreHRListCoreHRWorkforcePlan(f func(ctx context.Context, request *ListCoreHRWorkforcePlanReq, options ...MethodOptionFunc) (*ListCoreHRWorkforcePlanResp, *Response, error)) {
	r.mockCoreHRListCoreHRWorkforcePlan = f
}

// UnMockCoreHRListCoreHRWorkforcePlan un-mock CoreHRListCoreHRWorkforcePlan method
func (r *Mock) UnMockCoreHRListCoreHRWorkforcePlan() {
	r.mockCoreHRListCoreHRWorkforcePlan = nil
}

// ListCoreHRWorkforcePlanReq ...
type ListCoreHRWorkforcePlanReq struct {
	GetAllPlan *bool `query:"get_all_plan" json:"-"` // 是否获取所有编制规划方案, 默认为 false。- true 所有编制规划方案列表。- false 为仅获取当前生效的编制规划方案。示例值: false
	Active     *bool `query:"active" json:"-"`       // 是否只获取已启用的方案, 默认为 true。- true 获取已启用编制规划方案- false 获取所有编制规划方案, 示例值: false
}

// ListCoreHRWorkforcePlanResp ...
type ListCoreHRWorkforcePlanResp struct {
	Items []*ListCoreHRWorkforcePlanRespItem `json:"items,omitempty"` // 编制规划方案列表
	Total int64                              `json:"total,omitempty"` // 满足条件的方案总数
}

// ListCoreHRWorkforcePlanRespItem ...
type ListCoreHRWorkforcePlanRespItem struct {
	WorkforcePlanID   string                                              `json:"workforce_plan_id,omitempty"`   // 编制规划方案 ID
	WorkforcePlanName []*ListCoreHRWorkforcePlanRespItemWorkforcePlanName `json:"workforce_plan_name,omitempty"` // 编制规划方案名称
	StartDate         string                                              `json:"start_date,omitempty"`          // 开始日期- 返回格式: YYYY-MM-DD（最小单位到日）- 日期范围:1900-01-01 ～ 9999-12-31
	EndDate           string                                              `json:"end_date,omitempty"`            // 结束日期- 返回格式: YYYY-MM-DD（最小单位到日）- 日期范围:1900-01-01 ～ 9999-12-31
	Active            bool                                                `json:"active,omitempty"`              // 是否启用- true 表示启用- false 表示停用
}

// ListCoreHRWorkforcePlanRespItemWorkforcePlanName ...
type ListCoreHRWorkforcePlanRespItemWorkforcePlanName struct {
	Lang  string `json:"lang,omitempty"`  // 语言信息, 中文为 zh-CN, 英文为 en-US
	Value string `json:"value,omitempty"` // 内容
}

// listCoreHRWorkforcePlanResp ...
type listCoreHRWorkforcePlanResp struct {
	Code  int64                        `json:"code,omitempty"` // 错误码, 非 0 表示失败
	Msg   string                       `json:"msg,omitempty"`  // 错误描述
	Data  *ListCoreHRWorkforcePlanResp `json:"data,omitempty"`
	Error *ErrorDetail                 `json:"error,omitempty"`
}
