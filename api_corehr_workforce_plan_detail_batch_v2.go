// Code generated by lark_sdk_gen. DO NOT EDIT.
/**
 * Copyright 2022 chyroc
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package lark

import (
	"context"
)

// BatchCorehrWorkforcePlanDetailV2 查询编制规划明细, 包括维度信息、编制数、预估在职人数、在职人数和预增/预减人数。
//
// - 本接口可查询编制规划或集中填报明细信息。
// - 请求体入参如果没有特殊说明, 不填写默认为空, 不参与筛选。
// - 所有筛选项可一起使用, 之间为 AND 关系。如部门 + 人员类型, 则返回同时满足部门及人员类型的编制规划明细数据。
// - 本接口支持自定义组织（自定义组织功能灰度中, 有需要请联系[技术支持](https://applink.feishu.cn/TLJpeNdW)）。
// 延迟说明: 搜索同步延迟 10s 以内, 即: 直接创建编制明细后 10s 内调用此接口可能查询不到数据。
//
// doc: https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/workforce_plan_detail/batch_v2
// new doc: https://open.feishu.cn/document/corehr-v1/workforce_plan/batch_v2
func (r *CoreHRService) BatchCorehrWorkforcePlanDetailV2(ctx context.Context, request *BatchCorehrWorkforcePlanDetailV2Req, options ...MethodOptionFunc) (*BatchCorehrWorkforcePlanDetailV2Resp, *Response, error) {
	if r.cli.mock.mockCoreHRBatchCorehrWorkforcePlanDetailV2 != nil {
		r.cli.Log(ctx, LogLevelDebug, "[lark] CoreHR#BatchCorehrWorkforcePlanDetailV2 mock enable")
		return r.cli.mock.mockCoreHRBatchCorehrWorkforcePlanDetailV2(ctx, request, options...)
	}

	req := &RawRequestReq{
		Scope:                 "CoreHR",
		API:                   "BatchCorehrWorkforcePlanDetailV2",
		Method:                "POST",
		URL:                   r.cli.openBaseURL + "/open-apis/corehr/v2/workforce_plan_details/batch_v2",
		Body:                  request,
		MethodOption:          newMethodOption(options),
		NeedTenantAccessToken: true,
	}
	resp := new(batchCorehrWorkforcePlanDetailV2Resp)

	response, err := r.cli.RawRequest(ctx, req, resp)
	return resp.Data, response, err
}

// MockCoreHRBatchCorehrWorkforcePlanDetailV2 mock CoreHRBatchCorehrWorkforcePlanDetailV2 method
func (r *Mock) MockCoreHRBatchCorehrWorkforcePlanDetailV2(f func(ctx context.Context, request *BatchCorehrWorkforcePlanDetailV2Req, options ...MethodOptionFunc) (*BatchCorehrWorkforcePlanDetailV2Resp, *Response, error)) {
	r.mockCoreHRBatchCorehrWorkforcePlanDetailV2 = f
}

// UnMockCoreHRBatchCorehrWorkforcePlanDetailV2 un-mock CoreHRBatchCorehrWorkforcePlanDetailV2 method
func (r *Mock) UnMockCoreHRBatchCorehrWorkforcePlanDetailV2() {
	r.mockCoreHRBatchCorehrWorkforcePlanDetailV2 = nil
}

// BatchCorehrWorkforcePlanDetailV2Req ...
type BatchCorehrWorkforcePlanDetailV2Req struct {
	PageToken                     *string                                                 `query:"page_token" json:"-"`                       // 分页标记, 第一次请求不填, 表示从头开始遍历；分页查询结果还有更多项时会同时返回新的 page_token, 下次遍历可采用该 page_token 获取查询结果示例值: ["123456"]
	PageSize                      *int64                                                  `query:"page_size" json:"-"`                        // 分页大小示例值: 100默认值: `100` 取值范围: `1` ～ `100`
	WorkforcePlanID               *string                                                 `json:"workforce_plan_id,omitempty"`                // 编制规划方案ID, ID及详细信息可通过[获取编制规划方案列表](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/workforce_plan/list)接口查询获得。查询编制规划明细信息时, 编制规划方案ID必填, 是否为集中填报项目设置为false, 不填写集中填报项目ID（是否填写不影响返回结果）示例值: "781234834512"
	IsCentralizedReportingProject *bool                                                   `json:"is_centralized_reporting_project,omitempty"` // 是否为集中填报项目。如果租户未使用集中填报功能, 将此参数置空即可。如果查询集中填报明细, 将此参数设置为true。字段权限要求: 获取编制规划集中填报明细信息(corehr:workforce_plan_centralized_reporting_project_detail:read)示例值: false默认值: `false`
	CentralizedReportingProjectID *string                                                 `json:"centralized_reporting_project_id,omitempty"` // 编制规划集中填报项目ID, ID可通过访问集中填报页面, 从URL中提取report_id参数。如果租户未使用集中填报功能, 将此参数置空即可。查询集中填报信息时, 集中填报项目ID必填, 是否为集中填报项目设置为true, 不填写编制规划方案ID（是否填写不影响返回结果）字段权限要求: 获取编制规划集中填报明细信息(corehr:workforce_plan_centralized_reporting_project_detail:read)示例值: "7140964208476371111"
	DimensionIDInDatas            []*BatchCorehrWorkforcePlanDetailV2ReqDimensionIDInData `json:"dimension_id_in_datas,omitempty"`            // 维度筛选 长度范围: `0` ～ `100`
	IncludeMissingDimensionRows   *bool                                                   `json:"include_missing_dimension_rows,omitempty"`   // 是否包含缺维度的明细行数据, true为包含缺维度明细行数据, false为仅获取所有维度都有值的明细行数据, 默认为 false示例值: false
	FilterAllZeroValueRows        *bool                                                   `json:"filter_all_zero_value_rows,omitempty"`       // 是否过滤在职、预增/预减人员、编制数、预估在职人数都为0的明细行, true为过滤在职、预增/预减人员、编制数、预估在职人数都为0的明细行, false为不过滤在职、预增/预减人员、编制数、预估在职人数都为0的明细行, 默认为 false示例值: false
}

// BatchCorehrWorkforcePlanDetailV2ReqDimensionIDInData ...
type BatchCorehrWorkforcePlanDetailV2ReqDimensionIDInData struct {
	DimensionKey *string  `json:"dimension_key,omitempty"` // 维度key, 可从下面列表中进行选择: "department": 部门。- "employee_type" : 人员类型。- "location": 地点。- "position" : 岗位。- "cost_center" : 成本中心/业务线。- "job_family" : 序列。- "job_level" : 职级。- "job" : 职务。自定义组织: "custom_org_01" - "custom_org_02"- "custom_org_03"- "custom_org_04" - "custom_org_05"示例值: "department"
	DimensionIDs []string `json:"dimension_ids,omitempty"` // 维度value。- department_id: 可从[查询部门](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/department/batch_get)获得。- location_id: 可从[查询地点](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/location/list)获得。- cost_center_id: 可从[查询成本中心](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/cost_center/search)获得。- job_id: 可从[查询职务](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/job/list)获得。- job_level_id: 可从[查询职级](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job_level/list)获得。- job_family_id: 可从[查询序列](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job_family/list)获得。- employee_type_id: 可从[查询人员类型](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/employee_type/list)获得。- position_id: 岗位, 功能灰度中, 如有需求请联系[技术支持](https://applink.feishu.cn/TLJpeNdW)- custom_org_01_id: 自定义组织, 功能灰度中, 有需要请联系[技术支持](https://applink.feishu.cn/TLJpeNdW)- custom_org_02_id: 自定义组织, 功能灰度中, 有需要请联系[技术支持](https://applink.feishu.cn/TLJpeNdW)- custom_org_03_id: 自定义组织, 功能灰度中, 有需要请联系[技术支持](https://applink.feishu.cn/TLJpeNdW)- custom_org_04_id: 自定义组织, 功能灰度中, 有需要请联系[技术支持](https://applink.feishu.cn/TLJpeNdW)- custom_org_05_id: 自定义组织, 功能灰度中, 有需要请联系[技术支持](https://applink.feishu.cn/TLJpeNdW)示例值: ["7210266650427033132"] 长度范围: `0` ～ `1000`
}

// BatchCorehrWorkforcePlanDetailV2Resp ...
type BatchCorehrWorkforcePlanDetailV2Resp struct {
	WorkforcePlanID               string                                      `json:"workforce_plan_id,omitempty"`                // 编制规划方案 ID
	CentralizedReportingProjectID string                                      `json:"centralized_reporting_project_id,omitempty"` // 集中填报项目 ID
	Items                         []*BatchCorehrWorkforcePlanDetailV2RespItem `json:"items,omitempty"`                            // 编制规划明细信息
	PageToken                     string                                      `json:"page_token,omitempty"`                       // 分页标记, 当 has_more 为 true 时, 会同时返回新的 page_token, 否则不返回 page_token
	HasMore                       bool                                        `json:"has_more,omitempty"`                         // 是否还有更多项
}

// BatchCorehrWorkforcePlanDetailV2RespItem ...
type BatchCorehrWorkforcePlanDetailV2RespItem struct {
	WorkforcePlanDetailID             string                                                                      `json:"workforce_plan_detail_id,omitempty"`             // 编制规划明细 ID
	DimensionInfoDatas                []*BatchCorehrWorkforcePlanDetailV2RespItemDimensionInfoData                `json:"dimension_info_datas,omitempty"`                 // 维度信息
	WorkforcePlan                     string                                                                      `json:"workforce_plan,omitempty"`                       // 编制规划值
	ActiveIndividuals                 string                                                                      `json:"active_individuals,omitempty"`                   // 在职人数
	IndividualsToBeAdded              string                                                                      `json:"individuals_to_be_added,omitempty"`              // 预增员数量
	IndividualsToBeRemoved            string                                                                      `json:"individuals_to_be_removed,omitempty"`            // 预减员数量
	EstimatedActiveIndividualsDetails []*BatchCorehrWorkforcePlanDetailV2RespItemEstimatedActiveIndividualsDetail `json:"estimated_active_individuals_details,omitempty"` // 预估在职人数明细
	MultiPeriodValues                 []*BatchCorehrWorkforcePlanDetailV2RespItemMultiPeriodValue                 `json:"multi_period_values,omitempty"`                  // 自然周期的编制规划信息。功能灰度中, 有需要请联系[技术支持](https://applink.feishu.cn/TLJpeNdW)
	IsMissingDimension                bool                                                                        `json:"is_missing_dimension,omitempty"`                 // 是否为缺维度的明细行, true为缺维度明细行, false为非缺维度明细行
	IsAllZeroValue                    bool                                                                        `json:"is_all_zero_value,omitempty"`                    // 是否在职、预增/预减人员、编制数、预估在职人数都为0的明细行, true代表在职、预增/预减人员、编制数、预估在职人数都为0的明细行, false代表在职、预增/预减人员、编制数、预估在职人数不全为0的明细行
}

// BatchCorehrWorkforcePlanDetailV2RespItemDimensionInfoData ...
type BatchCorehrWorkforcePlanDetailV2RespItemDimensionInfoData struct {
	DimensionKey  string                                                                  `json:"dimension_key,omitempty"`  // 维度 key- "department": 部门。- "employee_type" : 人员类型。- "location": 地点。- "position" : 岗位。- "cost_center" : 成本中心/业务线。- "job_family" : 序列。- "job_level" : 职级。- "job" : 职务。自定义组织: "custom_org_01" - "custom_org_02"- "custom_org_03"- "custom_org_04" - "custom_org_05"
	DimensionInfo *BatchCorehrWorkforcePlanDetailV2RespItemDimensionInfoDataDimensionInfo `json:"dimension_info,omitempty"` // 维度信息
}

// BatchCorehrWorkforcePlanDetailV2RespItemDimensionInfoDataDimensionInfo ...
type BatchCorehrWorkforcePlanDetailV2RespItemDimensionInfoDataDimensionInfo struct {
	ID   string                                                                        `json:"id,omitempty"`   // 维度id- department_id: 可从[查询部门](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/department/batch_get)获得。- location_id: 可从[查询地点](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/location/list)获得。- cost_center_id: 可从[查询成本中心](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/cost_center/search)获得。- job_id: 可从[查询职务](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/job/list)获得。- job_level_id: 可从[查询职级](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job_level/list)获得。- job_family_id: 可从[查询序列](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job_family/list)获得。- employee_type_id: 可从[查询人员类型](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/employee_type/list)获得。- position_id: 岗位, 功能灰度中, 如有需求请联系[技术支持](https://applink.feishu.cn/TLJpeNdW)- custom_org_01_id: 自定义组织, 功能灰度中, 有需要请联系[技术支持](https://applink.feishu.cn/TLJpeNdW)- custom_org_02_id: 自定义组织, 功能灰度中, 有需要请联系[技术支持](https://applink.feishu.cn/TLJpeNdW)- custom_org_03_id: 自定义组织, 功能灰度中, 有需要请联系[技术支持](https://applink.feishu.cn/TLJpeNdW)- custom_org_04_id: 自定义组织, 功能灰度中, 有需要请联系[技术支持](https://applink.feishu.cn/TLJpeNdW)- custom_org_05_id: 自定义组织, 功能灰度中, 有需要请联系[技术支持](https://applink.feishu.cn/TLJpeNdW)
	Name []*BatchCorehrWorkforcePlanDetailV2RespItemDimensionInfoDataDimensionInfoName `json:"name,omitempty"` // 维度名称
}

// BatchCorehrWorkforcePlanDetailV2RespItemDimensionInfoDataDimensionInfoName ...
type BatchCorehrWorkforcePlanDetailV2RespItemDimensionInfoDataDimensionInfoName struct {
	Lang  string `json:"lang,omitempty"`  // 语言编码（IETF BCP 47）
	Value string `json:"value,omitempty"` // 文本内容
}

// BatchCorehrWorkforcePlanDetailV2RespItemEstimatedActiveIndividualsDetail ...
type BatchCorehrWorkforcePlanDetailV2RespItemEstimatedActiveIndividualsDetail struct {
	Date                       string `json:"date,omitempty"`                         // 预估月份
	EstimatedActiveIndividuals string `json:"estimated_active_individuals,omitempty"` // 预估在职人数
}

// BatchCorehrWorkforcePlanDetailV2RespItemMultiPeriodValue ...
type BatchCorehrWorkforcePlanDetailV2RespItemMultiPeriodValue struct {
	PeriodDate             string `json:"period_date,omitempty"`               // 自然周期的最后一天
	WorkforcePlan          string `json:"workforce_plan,omitempty"`            // 对应自然周期的编制规划值
	IndividualsToBeAdded   string `json:"individuals_to_be_added,omitempty"`   // 对应自然周期的预增员数量
	IndividualsToBeRemoved string `json:"individuals_to_be_removed,omitempty"` // 对应自然周期的预减员数量
}

// batchCorehrWorkforcePlanDetailV2Resp ...
type batchCorehrWorkforcePlanDetailV2Resp struct {
	Code  int64                                 `json:"code,omitempty"` // 错误码, 非 0 表示失败
	Msg   string                                `json:"msg,omitempty"`  // 错误描述
	Data  *BatchCorehrWorkforcePlanDetailV2Resp `json:"data,omitempty"`
	Error *ErrorDetail                          `json:"error,omitempty"`
}
