// Code generated by lark_sdk_gen. DO NOT EDIT.
/**
 * Copyright 2022 chyroc
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package lark

import (
	"context"
)

// CreateCorehrCustomOrg 使用指定信息创建自定义组织, 接口内会做相关规则校验。
//
// - 每种自定义组织都可以通过此接口创建, 不同种自定义组织通过不同 object_api_name 区分。
// - 非必填字段, 不传时默认为空。
//
// doc: https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/custom_org/create
// new doc: https://open.feishu.cn/document/corehr-v1/organization-management/custom_org/create
func (r *CoreHRService) CreateCorehrCustomOrg(ctx context.Context, request *CreateCorehrCustomOrgReq, options ...MethodOptionFunc) (*CreateCorehrCustomOrgResp, *Response, error) {
	if r.cli.mock.mockCoreHRCreateCorehrCustomOrg != nil {
		r.cli.Log(ctx, LogLevelDebug, "[lark] CoreHR#CreateCorehrCustomOrg mock enable")
		return r.cli.mock.mockCoreHRCreateCorehrCustomOrg(ctx, request, options...)
	}

	req := &RawRequestReq{
		Scope:                 "CoreHR",
		API:                   "CreateCorehrCustomOrg",
		Method:                "POST",
		URL:                   r.cli.openBaseURL + "/open-apis/corehr/v2/custom_orgs",
		Body:                  request,
		MethodOption:          newMethodOption(options),
		NeedTenantAccessToken: true,
	}
	resp := new(createCorehrCustomOrgResp)

	response, err := r.cli.RawRequest(ctx, req, resp)
	return resp.Data, response, err
}

// MockCoreHRCreateCorehrCustomOrg mock CoreHRCreateCorehrCustomOrg method
func (r *Mock) MockCoreHRCreateCorehrCustomOrg(f func(ctx context.Context, request *CreateCorehrCustomOrgReq, options ...MethodOptionFunc) (*CreateCorehrCustomOrgResp, *Response, error)) {
	r.mockCoreHRCreateCorehrCustomOrg = f
}

// UnMockCoreHRCreateCorehrCustomOrg un-mock CoreHRCreateCorehrCustomOrg method
func (r *Mock) UnMockCoreHRCreateCorehrCustomOrg() {
	r.mockCoreHRCreateCorehrCustomOrg = nil
}

// CreateCorehrCustomOrgReq ...
type CreateCorehrCustomOrgReq struct {
	ClientToken     *string                                   `query:"client_token" json:"-"`      // 根据client_token是否一致来判断是否为同一请求示例值: 1245464678 长度范围: `0` ～ `128` 字符
	UserIDType      *IDType                                   `query:"user_id_type" json:"-"`      // 用户 ID 类型示例值: people_corehr_id可选值有: 标识一个用户在某个应用中的身份。同一个用户在不同应用中的 Open ID 不同。[了解更多: 如何获取 Open ID](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-obtain-openid)标识一个用户在某个应用开发商下的身份。同一用户在同一开发商下的应用中的 Union ID 是相同的, 在不同开发商下的应用中的 Union ID 是不同的。通过 Union ID, 应用开发商可以把同个用户在多个应用中的身份关联起来。[了解更多: 如何获取 Union ID？](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-obtain-union-id)标识一个用户在某个租户内的身份。同一个用户在租户 A 和租户 B 内的 User ID 是不同的。在同一个租户内, 一个用户的 User ID 在所有应用（包括商店应用）中都保持一致。User ID 主要用于在不同的应用间打通用户数据。[了解更多: 如何获取 User ID？](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-obtain-user-id)以飞书人事的 ID 来识别用户默认值: `people_corehr_id` 长度范围: `0` ～ `64` 字符当值为 `user_id`, 字段权限要求: 获取用户 user ID
	ObjectApiName   string                                    `json:"object_api_name,omitempty"`   // 组织类型编码, 可在「飞书人事-设置-组织设置」中相应的自定义组织目录下查看示例值: "custom_org_01" 长度范围: `1` ～ `128` 字符
	Names           []*CreateCorehrCustomOrgReqName           `json:"names,omitempty"`             // 自定义组织的名称- 相同上级的自定义组织中英文名称不允许重复。- 名称不能包含「/」「；」「;」「\」「'」字符。 长度范围: `0` ～ `5`
	Code            *string                                   `json:"code,omitempty"`              // 自定义组织编码 (不能与其他记录的编码重复)- 开启自动编码时, 如果不传值会自动生成编码, 否则以传入值为准- 未开启自动编码时, 不传值不会自动生成编码示例值: "000001（格式和配置的匹配规则相关）" 长度范围: `0` ～ `128` 字符
	ParentID        *string                                   `json:"parent_id,omitempty"`         // 上级自定义组织 ID- 上级自定义组织的状态必须是启用的。- 可从 [批量查询自定义组织](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/custom_org/query)的 org_id 字段中获取。示例值: "6862995757234914824"
	ManagerIDs      []string                                  `json:"manager_ids,omitempty"`       // 负责人 ID 列表。- 详细信息可通过[【搜索员工信息】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/employee/search) 或 [【批量查询员工】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/employee/batch_get) 接口获取, ID 为返回值中的 [employment_id]示例值: ["6862995757234914824"] 长度范围: `0` ～ `100`
	Description     []*CreateCorehrCustomOrgReqDescription    `json:"description,omitempty"`       // 自定义组织描述 长度范围: `0` ～ `5`
	EffectiveTime   string                                    `json:"effective_time,omitempty"`    // 自定义组织生效时间- 填写格式: YYYY-MM-DD- 系统默认为填写日期当天的 00:00:00 生效 - 该接口只支持到最小单位为日- 日期范围要求:1900-01-01 ～ 9999-12-31示例值: "2020-01-01" 长度范围: `10` ～ `10` 字符- 正则校验: `^((([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})-(((0[13578]|1[02])-(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)-(0[1-9]|[12][0-9]|30))|(02-(0[1-9]|[1][0-9]|2[0-8]))))|((([0-9]{2})(0[48]|[2468][048]|[13579][26])|((0[48]|[2468][048]|[3579][26])00))-02-29))$`
	OrgRoles        []*CreateCorehrCustomOrgReqOrgRole        `json:"org_roles,omitempty"`         // 自动给「按自定义组织授权的角色」授权 长度范围: `0` ～ `64`
	MatchRuleGroups []*CreateCorehrCustomOrgReqMatchRuleGroup `json:"match_rule_groups,omitempty"` // 自动匹配的规则组。- 需要在「飞书人事-设置-组织设置」中打开对应组织类型的自动匹配开关后, 才可以使用匹配规则组字段。- 各个]match_rule_groups[之间是并集关系- 各个]match_rules[之间是交集关系 长度范围: `0` ～ `16`
	CustomFields    []*CreateCorehrCustomOrgReqCustomField    `json:"custom_fields,omitempty"`     // 自定义字段类型, 详细见[获取自定义字段列表](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/custom_field/query)  长度范围: `0` ～ `200`
}

// CreateCorehrCustomOrgReqCustomField ...
type CreateCorehrCustomOrgReqCustomField struct {
	CustomApiName string `json:"custom_api_name,omitempty"` // 自定义字段 API Name, 即自定义字段的唯一标识示例值: "name"
	Value         string `json:"value,omitempty"`           // 字段值, 为 JSON 转义后的字符串。注意: 具体传值方式参见[获取自定义字段的元数据](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/custom-fields-guide)示例值: "\"231\""
}

// CreateCorehrCustomOrgReqDescription ...
type CreateCorehrCustomOrgReqDescription struct {
	Lang  string `json:"lang,omitempty"`  // 语言, 中文用 zh-CN, 英文用 en-US示例值: "zh-CN"
	Value string `json:"value,omitempty"` // 文本内容示例值: "中文示例"
}

// CreateCorehrCustomOrgReqMatchRuleGroup ...
type CreateCorehrCustomOrgReqMatchRuleGroup struct {
	MatchRules []*CreateCorehrCustomOrgReqMatchRuleGroupMatchRule `json:"match_rules,omitempty"` // 匹配规则列表, 组内是交集关系 长度范围: `0` ～ `64`
}

// CreateCorehrCustomOrgReqMatchRuleGroupMatchRule ...
type CreateCorehrCustomOrgReqMatchRuleGroupMatchRule struct {
	LeftValue   string   `json:"left_value,omitempty"`   // 左值示例值: "department"可选值有: 部门部门（含下级）工作地点工作地点（含下级）成本中心成本中心（含下级）职务职级序列序列（含下级）人员类型
	Operator    string   `json:"operator,omitempty"`     // 操作符示例值: "contains"可选值有: 包含不包含
	RightValues []string `json:"right_values,omitempty"` // 右值, 填写左值对应的 ID 列表。- ]department[和]department_hierarchy[: 详细 ID 可通过[查询单个部门](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/department/get)接口获得, ID 类型需要为 ]people_corehr_department_id[。- ]work_location[和]work_location_hierarchy[: 详细 ID 可通过[查询单个地点](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/location/get)接口获得。- ]cost_center[和]cost_center_hierarchy[: 详细 ID 可通过[搜索成本中心信息](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/cost_center/search)接口获得。- ]job[: 详细 ID 可通过[查询单个职务](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job/get)接口获得。- ]job_level[: 详细 ID 可通过[查询单个职级](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job_level/get)接口获得。- ]job_family[和]job_family_hierarchy[: 详细 ID 可通过[查询单个序列](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job_family/get)接口获得。- ]employee_type==: 详细 ID 可通过[查询人员类型](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/employee_type/get)接口获得。示例值: ["6862995757234914824"] 长度范围: `0` ～ `10000`
}

// CreateCorehrCustomOrgReqName ...
type CreateCorehrCustomOrgReqName struct {
	Lang  string `json:"lang,omitempty"`  // 名称信息的语言, 中文用 zh-CN, 英文用 en-US示例值: "zh-CN"
	Value string `json:"value,omitempty"` // 名称信息的内容。示例值: "飞书人事"
}

// CreateCorehrCustomOrgReqOrgRole ...
type CreateCorehrCustomOrgReqOrgRole struct {
	ApiName         *string  `json:"api_name,omitempty"`          // 角色key - api_name、security_group_id必须填一个 - 可以通过页面「飞书人事-设置-组织配置」选择对应自定义组织, 「字段配置-字段编码」获取示例值: "hcm_corehr_xxxxxx"
	SecurityGroupID *string  `json:"security_group_id,omitempty"` // 角色ID - api_name、security_group_id必须填一个 - 可以通过[批量获取角色列表](https://open.larkoffice.com/document/server-docs/corehr-v1/authorization/list) 获取, 数据为返回数据中的 data.items.id 值。筛选条件data.items.group_type [ 3（组织角色）, data.items.org_truncation 关联的组织有且仅有一个, data.items.org_truncation.org_key 等于当前查询自定义组织 object_api_name示例值: "7034393015968122400"
	EmploymentIDs   []string `json:"employment_ids,omitempty"`    // 被授权的员工 ID 列表- 详细信息可通过[【搜索员工信息】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/employee/search) 或 [【批量查询员工】](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/employee/batch_get) 接口获取示例值: ["6862995757234914824"] 长度范围: `0` ～ `100`
}

// CreateCorehrCustomOrgResp ...
type CreateCorehrCustomOrgResp struct {
	OrgID string `json:"org_id,omitempty"` // 自定义组织的 ID
}

// createCorehrCustomOrgResp ...
type createCorehrCustomOrgResp struct {
	Code  int64                      `json:"code,omitempty"` // 错误码, 非 0 表示失败
	Msg   string                     `json:"msg,omitempty"`  // 错误描述
	Data  *CreateCorehrCustomOrgResp `json:"data,omitempty"`
	Error *ErrorDetail               `json:"error,omitempty"`
}
