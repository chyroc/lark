// Code generated by lark_sdk_gen. DO NOT EDIT.
/**
 * Copyright 2022 chyroc
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package lark

import (
	"context"
)

// UpdateCorehrCustomOrgRule 更新自定义组织的匹配规则。仅开启了「为组织设置自动匹配规则」的自定义组织类型可用。如需更新自定义组织基本信息可使用[更新自定义组织](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/custom_org/patch)
//
// - 自定义组织规则无生效时间概念, 规则变更不会生成相应版本。
// - 自定义组织规则变更后不会自动生效, 需要在「飞书人事-组织管理-对应自定义组织」页面右上角点击「立即计算匹配规则」按钮才会生效。或者每天 0 点自动生效。
//
// doc: https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/custom_org/update_rule
// new doc: https://open.feishu.cn/document/corehr-v1/organization-management/custom_org/update_rule
func (r *CorehrService) UpdateCorehrCustomOrgRule(ctx context.Context, request *UpdateCorehrCustomOrgRuleReq, options ...MethodOptionFunc) (*UpdateCorehrCustomOrgRuleResp, *Response, error) {
	if r.cli.mock.mockCorehrUpdateCorehrCustomOrgRule != nil {
		r.cli.Log(ctx, LogLevelDebug, "[lark] Corehr#UpdateCorehrCustomOrgRule mock enable")
		return r.cli.mock.mockCorehrUpdateCorehrCustomOrgRule(ctx, request, options...)
	}

	req := &RawRequestReq{
		Scope:                 "Corehr",
		API:                   "UpdateCorehrCustomOrgRule",
		Method:                "POST",
		URL:                   r.cli.openBaseURL + "/open-apis/corehr/v2/custom_orgs/update_rule",
		Body:                  request,
		MethodOption:          newMethodOption(options),
		NeedTenantAccessToken: true,
	}
	resp := new(updateCorehrCustomOrgRuleResp)

	response, err := r.cli.RawRequest(ctx, req, resp)
	return resp.Data, response, err
}

// MockCorehrUpdateCorehrCustomOrgRule mock CorehrUpdateCorehrCustomOrgRule method
func (r *Mock) MockCorehrUpdateCorehrCustomOrgRule(f func(ctx context.Context, request *UpdateCorehrCustomOrgRuleReq, options ...MethodOptionFunc) (*UpdateCorehrCustomOrgRuleResp, *Response, error)) {
	r.mockCorehrUpdateCorehrCustomOrgRule = f
}

// UnMockCorehrUpdateCorehrCustomOrgRule un-mock CorehrUpdateCorehrCustomOrgRule method
func (r *Mock) UnMockCorehrUpdateCorehrCustomOrgRule() {
	r.mockCorehrUpdateCorehrCustomOrgRule = nil
}

// UpdateCorehrCustomOrgRuleReq ...
type UpdateCorehrCustomOrgRuleReq struct {
	ObjectApiName   string                                        `json:"object_api_name,omitempty"`   // 组织类型编码, 可在「飞书人事-设置-组织设置」中相应的自定义组织目录下查看示例值: "custom_org_01"
	OrgID           string                                        `json:"org_id,omitempty"`            // 自定义组织 ID- 可从 [批量查询自定义组织](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/custom_org/query)的 org_id 字段中获取。示例值: "6862995757234914824"
	MatchRuleGroups []*UpdateCorehrCustomOrgRuleReqMatchRuleGroup `json:"match_rule_groups,omitempty"` // 自动匹配的规则组。- 需要在「飞书人事-设置-组织设置」中打开对应组织类型的自动匹配开关后, 才可以使用匹配规则组字段。- 各个[match_rule_groups]之间是并集关系- 各个[match_rules]之间是交集关系 长度范围: `0` ～ `16`
}

// UpdateCorehrCustomOrgRuleReqMatchRuleGroup ...
type UpdateCorehrCustomOrgRuleReqMatchRuleGroup struct {
	MatchRules []*UpdateCorehrCustomOrgRuleReqMatchRuleGroupMatchRule `json:"match_rules,omitempty"` // 匹配规则列表, 组内是交集关系 长度范围: `0` ～ `64`
}

// UpdateCorehrCustomOrgRuleReqMatchRuleGroupMatchRule ...
type UpdateCorehrCustomOrgRuleReqMatchRuleGroupMatchRule struct {
	LeftValue   string   `json:"left_value,omitempty"`   // 左值示例值: "department"可选值有: 部门部门（含下级）工作地点工作地点（含下级）成本中心成本中心（含下级）职务职级序列序列（含下级）人员类型
	Operator    string   `json:"operator,omitempty"`     // 操作符示例值: "contains"可选值有: 包含不包含
	RightValues []string `json:"right_values,omitempty"` // 右值, 填写左值对应的 ID 列表。- [department]和[department_hierarchy]: 详细 ID 可通过[查询单个部门](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/department/get)接口获得, ID 类型需要为 [people_corehr_department_id]。- [work_location]和[work_location_hierarchy]: 详细 ID 可通过[查询单个地点](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/location/get)接口获得。- [cost_center]和[cost_center_hierarchy]: 详细 ID 可通过[搜索成本中心信息](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/cost_center/search)接口获得。- [job]: 详细 ID 可通过[查询单个职务](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job/get)接口获得。- [job_level]: 详细 ID 可通过[查询单个职级](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job_level/get)接口获得。- [job_family]和[job_family_hierarchy]: 详细 ID 可通过[查询单个序列](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job_family/get)接口获得。- [employee_type]: 详细 ID 可通过[查询人员类型](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/employee_type/get)接口获得。示例值: ["6862995757234914824"] 长度范围: `0` ～ `10000`
}

// UpdateCorehrCustomOrgRuleResp ...
type UpdateCorehrCustomOrgRuleResp struct {
}

// updateCorehrCustomOrgRuleResp ...
type updateCorehrCustomOrgRuleResp struct {
	Code  int64                          `json:"code,omitempty"` // 错误码, 非 0 表示失败
	Msg   string                         `json:"msg,omitempty"`  // 错误描述
	Data  *UpdateCorehrCustomOrgRuleResp `json:"data,omitempty"`
	Error *ErrorDetail                   `json:"error,omitempty"`
}
