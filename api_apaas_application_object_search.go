// Code generated by lark_sdk_gen. DO NOT EDIT.
/**
 * Copyright 2022 chyroc
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package lark

import (
	"context"
)

// SearchAPaaSApplicationObject 在应用内搜索记录
//
// doc: https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/apaas-v1/application-object/search
// new doc: https://open.feishu.cn/document/apaas-v1/application-object-record/search
func (r *APaaSService) SearchAPaaSApplicationObject(ctx context.Context, request *SearchAPaaSApplicationObjectReq, options ...MethodOptionFunc) (*SearchAPaaSApplicationObjectResp, *Response, error) {
	if r.cli.mock.mockAPaaSSearchAPaaSApplicationObject != nil {
		r.cli.Log(ctx, LogLevelDebug, "[lark] APaaS#SearchAPaaSApplicationObject mock enable")
		return r.cli.mock.mockAPaaSSearchAPaaSApplicationObject(ctx, request, options...)
	}

	req := &RawRequestReq{
		Scope:                 "APaaS",
		API:                   "SearchAPaaSApplicationObject",
		Method:                "POST",
		URL:                   r.cli.openBaseURL + "/open-apis/apaas/v1/applications/:namespace/objects/search",
		Body:                  request,
		MethodOption:          newMethodOption(options),
		NeedTenantAccessToken: true,
	}
	resp := new(searchAPaaSApplicationObjectResp)

	response, err := r.cli.RawRequest(ctx, req, resp)
	return resp.Data, response, err
}

// MockAPaaSSearchAPaaSApplicationObject mock APaaSSearchAPaaSApplicationObject method
func (r *Mock) MockAPaaSSearchAPaaSApplicationObject(f func(ctx context.Context, request *SearchAPaaSApplicationObjectReq, options ...MethodOptionFunc) (*SearchAPaaSApplicationObjectResp, *Response, error)) {
	r.mockAPaaSSearchAPaaSApplicationObject = f
}

// UnMockAPaaSSearchAPaaSApplicationObject un-mock APaaSSearchAPaaSApplicationObject method
func (r *Mock) UnMockAPaaSSearchAPaaSApplicationObject() {
	r.mockAPaaSSearchAPaaSApplicationObject = nil
}

// SearchAPaaSApplicationObjectReq ...
type SearchAPaaSApplicationObjectReq struct {
	Namespace     string                                         `path:"namespace" json:"-"`       // 应用命名空间示例值: "package_test__c" 长度范围: `0` ～ `256` 字符
	Q             *string                                        `json:"q,omitempty"`              // 搜索词示例值: "搜索关键字"
	SearchObjects []*SearchAPaaSApplicationObjectReqSearchObject `json:"search_objects,omitempty"` // 搜索对象范围 长度范围: `0` ～ `256`
	PageToken     *string                                        `json:"page_token,omitempty"`     // 分页标记, 第一次请求不填, 表示从头开始遍历；分页查询结果还有更多项时会同时返回新的 page_token, 下次遍历可采用该 page_token 获取查询结果示例值: "eyJvYmplY3RzX3BhZ2VfdG9rZW4iOlt7Im9ial9pZCI6MTc2OTI4NzM5M"
	PageSize      *int64                                         `json:"page_size,omitempty"`      // 返回数量, 默认为50, 最大不超过2000示例值: "100"
	Metadata      *string                                        `json:"metadata,omitempty"`       // 返回元数据枚举值示例值: "Label"可选值有: 只返回 Label返回搜索布局信息
}

// SearchAPaaSApplicationObjectReqSearchObject ...
type SearchAPaaSApplicationObjectReqSearchObject struct {
	ApiName      *string                                             `json:"api_name,omitempty"`      // 对象 APIName示例值: "_user" 长度范围: `0` ～ `256` 字符
	SearchFields []string                                            `json:"search_fields,omitempty"` // 搜索字段 SearchFields 列表示例值: ["_id"] 长度范围: `0` ～ `500`
	Select       []string                                            `json:"select,omitempty"`        // 召回字段 APIID/APIName 列表示例值: ["_id"] 长度范围: `0` ～ `1000`
	Filter       *SearchAPaaSApplicationObjectReqSearchObjectFilter  `json:"filter,omitempty"`        // 过滤条件, 序列化的结果{"filter": "「标准Criterion」"}
	OrderBy      *SearchAPaaSApplicationObjectReqSearchObjectOrderBy `json:"order_by,omitempty"`      // 排序条件
}

// SearchAPaaSApplicationObjectReqSearchObjectFilter ...
type SearchAPaaSApplicationObjectReqSearchObjectFilter struct {
	Conditions      []*SearchAPaaSApplicationObjectReqSearchObjectFilterCondition `json:"conditions,omitempty"`       // 查询条件 长度范围: `0` ～ `10`
	LogicExpression *string                                                       `json:"logic_expression,omitempty"` // 逻辑关系示例值: "1 and 2"
}

// SearchAPaaSApplicationObjectReqSearchObjectFilterCondition ...
type SearchAPaaSApplicationObjectReqSearchObjectFilterCondition struct {
	Index    *string                                                          `json:"index,omitempty"`    // 序号示例值: "1"
	Left     *SearchAPaaSApplicationObjectReqSearchObjectFilterConditionLeft  `json:"left,omitempty"`     // 左值
	Right    *SearchAPaaSApplicationObjectReqSearchObjectFilterConditionRight `json:"right,omitempty"`    // 右值
	Operator *string                                                          `json:"operator,omitempty"` // 操作符示例值: "equal"
}

// SearchAPaaSApplicationObjectReqSearchObjectFilterConditionLeft ...
type SearchAPaaSApplicationObjectReqSearchObjectFilterConditionLeft struct {
	Type     *string `json:"type,omitempty"`     // 左值类型, 只支持 "metadataVariable", 表示字段示例值: "metadataVariable"
	Settings *string `json:"settings,omitempty"` // 字段具体值, 以 JSONString 表示, 格式: {"fieldPath":[{"fieldApiName": "字段名", "objectApiName": "对象名"}]}示例值: "{\"fieldPath\":[{\"fieldApiName\": \"_id\", \"objectApiName\": \"_user\"}]}"
}

// SearchAPaaSApplicationObjectReqSearchObjectFilterConditionRight ...
type SearchAPaaSApplicationObjectReqSearchObjectFilterConditionRight struct {
	Type     *string `json:"type,omitempty"`     // 右值类型, 只支持 "constant", 表示常量示例值: "constant"
	Settings *string `json:"settings,omitempty"` // 常量具体值, 以 JSONString 表示, 格式: {"data":"常量具体值"}示例值: "{\"fieldPath\":[{\"fieldApiName\": \"_id\", \"objectApiName\": \"_user\"}]}"
}

// SearchAPaaSApplicationObjectReqSearchObjectOrderBy ...
type SearchAPaaSApplicationObjectReqSearchObjectOrderBy struct {
	Field     *string `json:"field,omitempty"`      // 字段名示例值: "_id" 长度范围: `0` ～ `256` 字符
	OrderType *string `json:"order_type,omitempty"` // 排序方式示例值: "asc"可选值有: 升序降序 长度范围: `0` ～ `256` 字符
}

// SearchAPaaSApplicationObjectResp ...
type SearchAPaaSApplicationObjectResp struct {
	Records       []string                                  `json:"records,omitempty"`         // 搜索结果列表
	HasMore       bool                                      `json:"has_more,omitempty"`        // 是否还有更多项
	NextPageToken string                                    `json:"next_page_token,omitempty"` // 分页标记, 当 HasMore 为 true 时, 会同时返回新的 NextPageToken
	Objects       []*SearchAPaaSApplicationObjectRespObject `json:"objects,omitempty"`         // 对象信息
}

// SearchAPaaSApplicationObjectRespObject ...
type SearchAPaaSApplicationObjectRespObject struct {
	Object *SearchAPaaSApplicationObjectRespObjectObject  `json:"object,omitempty"` // 对象信息
	Fields []*SearchAPaaSApplicationObjectRespObjectField `json:"fields,omitempty"` // 字段信息
}

// SearchAPaaSApplicationObjectRespObjectField ...
type SearchAPaaSApplicationObjectRespObjectField struct {
	ID      int64       `json:"id,omitempty"`       // 字段 id
	ApiName string      `json:"api_name,omitempty"` // API 名称
	Type    string      `json:"type,omitempty"`     // 字段类型
	Label   interface{} `json:"label,omitempty"`    // 字段名称
}

// SearchAPaaSApplicationObjectRespObjectObject ...
type SearchAPaaSApplicationObjectRespObjectObject struct {
	ID       int64                                                 `json:"id,omitempty"`       // 对象 ID
	ApiName  string                                                `json:"api_name,omitempty"` // 对象 API 名称
	Label    interface{}                                           `json:"label,omitempty"`    // 对象名称
	Settings *SearchAPaaSApplicationObjectRespObjectObjectSettings `json:"settings,omitempty"` // 对象配置
}

// SearchAPaaSApplicationObjectRespObjectObjectSettings ...
type SearchAPaaSApplicationObjectRespObjectObjectSettings struct {
	DisplayName       string                                                            `json:"display_name,omitempty"`        // 展示名称
	AllowSearchFields []string                                                          `json:"allow_search_fields,omitempty"` // 允许搜索字段
	SearchLayout      *SearchAPaaSApplicationObjectRespObjectObjectSettingsSearchLayout `json:"search_layout,omitempty"`       // 展示字段
}

// SearchAPaaSApplicationObjectRespObjectObjectSettingsSearchLayout ...
type SearchAPaaSApplicationObjectRespObjectObjectSettingsSearchLayout struct {
	DisplayFields []string `json:"display_fields,omitempty"` // 展示字段
}

// searchAPaaSApplicationObjectResp ...
type searchAPaaSApplicationObjectResp struct {
	Code  int64                             `json:"code,omitempty"` // 错误码, 非 0 表示失败
	Msg   string                            `json:"msg,omitempty"`  // 错误描述
	Data  *SearchAPaaSApplicationObjectResp `json:"data,omitempty"`
	Error *ErrorDetail                      `json:"error,omitempty"`
}
